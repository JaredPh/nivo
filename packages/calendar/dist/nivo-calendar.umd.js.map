{"version":3,"file":"nivo-calendar.umd.js","sources":["../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../src/CalendarTooltip.js","../src/props.js","../src/CalendarYearLegends.js","../src/CalendarMonthPath.js","../src/CalendarMonthLegends.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../src/compute.js","../src/hooks.js","../src/sharedCompute.js","../src/sharedHooks.js","../src/CalendarDay.js","../src/Calendar.js","../src/CalendarBlockLegends.js","../src/enhancedCompute.js","../src/enhancedHooks.js","../src/enhancedProps.js","../src/EnhancedCalendar.js","../src/ResponsiveCalendar.js","../src/ResponsiveEnhancedCalendar.js","../src/CalendarCanvas.js","../src/EnhancedCalendarCanvas.js","../src/ResponsiveCalendarCanvas.js","../src/ResponsiveEnhancedCalendarCanvas.js"],"sourcesContent":["export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { BasicTooltip } from '@nivo/tooltip'\n\nconst CalendarTooltip = memo(({ value, day, color }) => {\n    if (value === undefined || isNaN(value)) return null\n    return <BasicTooltip id={day} value={value} color={color} enableChip={true} />\n})\n\nCalendarTooltip.displayName = 'CalendarTooltip'\nCalendarTooltip.propTypes = {\n    value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    day: PropTypes.string,\n    color: PropTypes.string,\n}\n\nexport default CalendarTooltip\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\nimport { timeFormat } from 'd3-time-format'\nimport { boxAlignments } from '@nivo/core'\nimport { LegendPropShape } from '@nivo/legends'\nimport CalendarTooltip from './CalendarTooltip'\n\nconst monthLabelFormat = timeFormat('%b')\n\nconst commonPropTypes = {\n    from: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n    to: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n    data: PropTypes.arrayOf(\n        PropTypes.shape({\n            day: PropTypes.string.isRequired,\n            value: PropTypes.number.isRequired,\n        })\n    ).isRequired,\n\n    align: PropTypes.oneOf(boxAlignments).isRequired,\n\n    minValue: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]).isRequired,\n    maxValue: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]).isRequired,\n\n    colors: PropTypes.arrayOf(PropTypes.string).isRequired,\n    colorScale: PropTypes.func,\n\n    direction: PropTypes.oneOf(['horizontal', 'vertical']),\n    emptyColor: PropTypes.string.isRequired,\n\n    yearLegend: PropTypes.func.isRequired,\n    yearSpacing: PropTypes.number.isRequired,\n    yearLegendPosition: PropTypes.oneOf(['before', 'after']).isRequired,\n    yearLegendOffset: PropTypes.number.isRequired,\n\n    monthBorderWidth: PropTypes.number.isRequired,\n    monthBorderColor: PropTypes.string.isRequired,\n    monthLegend: PropTypes.func.isRequired,\n    monthSpacing: PropTypes.number.isRequired,\n    monthLegendPosition: PropTypes.oneOf(['before', 'after']).isRequired,\n    monthLegendOffset: PropTypes.number.isRequired,\n\n    daySpacing: PropTypes.number.isRequired,\n    dayBorderWidth: PropTypes.number.isRequired,\n    dayBorderColor: PropTypes.string.isRequired,\n\n    isInteractive: PropTypes.bool,\n    onClick: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n    valueFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n    legendFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n    legends: PropTypes.arrayOf(\n        PropTypes.shape({\n            ...LegendPropShape,\n            itemCount: PropTypes.number.isRequired,\n        })\n    ).isRequired,\n}\n\nexport const CalendarPropTypes = {\n    ...commonPropTypes,\n    role: PropTypes.string.isRequired,\n}\n\nexport const CalendarCanvasPropTypes = {\n    ...commonPropTypes,\n    pixelRatio: PropTypes.number.isRequired,\n}\n\nconst commonDefaultProps = {\n    colors: ['#61cdbb', '#97e3d5', '#e8c1a0', '#f47560'],\n\n    align: 'center',\n    direction: 'horizontal',\n    emptyColor: '#fff',\n\n    minValue: 0,\n    maxValue: 'auto',\n\n    yearSpacing: 30,\n    yearLegend: year => year,\n    yearLegendPosition: 'before',\n    yearLegendOffset: 10,\n\n    monthBorderWidth: 2,\n    monthBorderColor: '#000',\n    monthSpacing: 0,\n    monthLegend: (year, month, date) => monthLabelFormat(date),\n    monthLegendPosition: 'before',\n    monthLegendOffset: 10,\n\n    weekdayLegend: d => d,\n    daySpacing: 0,\n    dayBorderWidth: 1,\n    dayBorderColor: '#000',\n\n    isInteractive: true,\n\n    legends: [],\n    tooltip: CalendarTooltip,\n}\n\nexport const CalendarDefaultProps = {\n    ...commonDefaultProps,\n    role: 'img',\n}\n\nexport const CalendarCanvasDefaultProps = {\n    ...commonDefaultProps,\n    pixelRatio:\n        global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1,\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\n\nconst CalendarYearLegends = memo(({ years, legend, theme }) => {\n    return (\n        <>\n            {years.map(year => {\n                return (\n                    <text\n                        key={year.year}\n                        transform={`translate(${year.x},${year.y}) rotate(${year.rotation})`}\n                        textAnchor=\"middle\"\n                        style={theme.labels.text}\n                    >\n                        {legend(year.year)}\n                    </text>\n                )\n            })}\n        </>\n    )\n})\n\nCalendarYearLegends.propTypes = {\n    years: PropTypes.array.isRequired,\n    legend: PropTypes.func.isRequired,\n    theme: PropTypes.object.isRequired,\n}\n\nCalendarYearLegends.displayName = 'CalendarYearLegends'\n\nexport default CalendarYearLegends\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\n\nconst CalendarMonthPath = memo(({ path, borderWidth, borderColor }) => {\n    return (\n        <path\n            d={path}\n            style={{\n                fill: 'none',\n                strokeWidth: borderWidth,\n                stroke: borderColor,\n                pointerEvents: 'none',\n            }}\n        />\n    )\n})\n\nCalendarMonthPath.propTypes = {\n    path: PropTypes.string.isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    borderColor: PropTypes.string.isRequired,\n}\n\nCalendarMonthPath.displayName = 'CalendarMonthPath'\n\nexport default CalendarMonthPath\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\n\nconst CalendarMonthLegends = memo(({ months, legend, theme }) => {\n    return (\n        <>\n            {months.map(month => {\n                return (\n                    <text\n                        key={`${month.date.toString()}.legend`}\n                        transform={`translate(${month.x},${month.y}) rotate(${month.rotation})`}\n                        textAnchor=\"middle\"\n                        style={theme.labels.text}\n                    >\n                        {legend(month.year, month.month, month.date)}\n                    </text>\n                )\n            })}\n        </>\n    )\n})\n\nCalendarMonthLegends.propTypes = {\n    months: PropTypes.array.isRequired,\n    legend: PropTypes.func.isRequired,\n    theme: PropTypes.object.isRequired,\n}\n\nCalendarMonthLegends.displayName = 'CalendarMonthLegends'\n\nexport default CalendarMonthLegends\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport memoize from 'lodash.memoize'\nimport isDate from 'lodash.isdate'\nimport range from 'lodash.range'\nimport { alignBox } from '@nivo/core'\nimport { timeFormat } from 'd3-time-format'\nimport { timeDays, timeWeek, timeWeeks, timeMonths, timeYear } from 'd3-time'\n\n/**\n * Compute day cell size according to current context.\n *\n * @param {number} width\n * @param {number} height\n * @param {number} direction\n * @param {array}  yearRange\n * @param {number} yearSpacing\n * @param {number} monthSpacing\n * @param {number} daySpacing\n * @param {number} maxWeeks\n * @returns {number}\n */\nconst computeCellSize = ({\n    width,\n    height,\n    direction,\n    yearRange,\n    yearSpacing,\n    monthSpacing,\n    daySpacing,\n    maxWeeks,\n}) => {\n    let hCellSize\n    let vCellSize\n\n    if (direction === 'horizontal') {\n        hCellSize = (width - monthSpacing * 12 - daySpacing * maxWeeks) / maxWeeks\n        vCellSize =\n            (height - (yearRange.length - 1) * yearSpacing - yearRange.length * (8 * daySpacing)) /\n            (yearRange.length * 7)\n    } else {\n        hCellSize =\n            (width - (yearRange.length - 1) * yearSpacing - yearRange.length * (8 * daySpacing)) /\n            (yearRange.length * 7)\n        vCellSize = (height - monthSpacing * 12 - daySpacing * maxWeeks) / maxWeeks\n    }\n\n    return Math.min(hCellSize, vCellSize)\n}\n\n/**\n * Computes month path and bounding box.\n *\n * @param {Date}   date\n * @param {number} cellSize\n * @param {number} yearIndex\n * @param {number} yearSpacing\n * @param {number} monthSpacing\n * @param {number} daySpacing\n * @param {string} direction\n * @param {number} originX\n * @param {number} originY\n * @returns { { path: string, bbox: { x: number, y: number, width: number, height: number } } }\n */\nconst monthPathAndBBox = ({\n    date,\n    cellSize,\n    yearIndex,\n    yearSpacing,\n    monthSpacing,\n    daySpacing,\n    direction,\n    originX,\n    originY,\n}) => {\n    // first day of next month\n    const t1 = new Date(date.getFullYear(), date.getMonth() + 1, 0)\n\n    // ranges\n    const firstWeek = timeWeek.count(timeYear(date), date)\n    const lastWeek = timeWeek.count(timeYear(t1), t1)\n    const firstDay = date.getDay()\n    const lastDay = t1.getDay()\n\n    // offset according to year index and month\n    let xO = originX\n    let yO = originY\n    const yearOffset = yearIndex * (7 * (cellSize + daySpacing) + yearSpacing)\n    const monthOffset = date.getMonth() * monthSpacing\n    if (direction === 'horizontal') {\n        yO += yearOffset\n        xO += monthOffset\n    } else {\n        yO += monthOffset\n        xO += yearOffset\n    }\n\n    let path\n    let bbox = { x: xO, y: yO, width: 0, height: 0 }\n    if (direction === 'horizontal') {\n        path = [\n            `M${xO + (firstWeek + 1) * (cellSize + daySpacing)},${\n                yO + firstDay * (cellSize + daySpacing)\n            }`,\n            `H${xO + firstWeek * (cellSize + daySpacing)}V${yO + 7 * (cellSize + daySpacing)}`,\n            `H${xO + lastWeek * (cellSize + daySpacing)}V${\n                yO + (lastDay + 1) * (cellSize + daySpacing)\n            }`,\n            `H${xO + (lastWeek + 1) * (cellSize + daySpacing)}V${yO}`,\n            `H${xO + (firstWeek + 1) * (cellSize + daySpacing)}Z`,\n        ].join('')\n\n        bbox.x = xO + firstWeek * (cellSize + daySpacing)\n        bbox.width = xO + (lastWeek + 1) * (cellSize + daySpacing) - bbox.x\n        bbox.height = 7 * (cellSize + daySpacing)\n    } else {\n        path = [\n            `M${xO + firstDay * (cellSize + daySpacing)},${\n                yO + (firstWeek + 1) * (cellSize + daySpacing)\n            }`,\n            `H${xO}V${yO + (lastWeek + 1) * (cellSize + daySpacing)}`,\n            `H${xO + (lastDay + 1) * (cellSize + daySpacing)}V${\n                yO + lastWeek * (cellSize + daySpacing)\n            }`,\n            `H${xO + 7 * (cellSize + daySpacing)}V${yO + firstWeek * (cellSize + daySpacing)}`,\n            `H${xO + firstDay * (cellSize + daySpacing)}Z`,\n        ].join('')\n\n        bbox.y = yO + firstWeek * (cellSize + daySpacing)\n        bbox.width = 7 * (cellSize + daySpacing)\n        bbox.height = yO + (lastWeek + 1) * (cellSize + daySpacing) - bbox.y\n    }\n\n    return { path, bbox }\n}\n\n/**\n * Creates a memoized version of monthPathAndBBox function.\n */\nconst memoMonthPathAndBBox = memoize(\n    monthPathAndBBox,\n    ({\n        date,\n        cellSize,\n        yearIndex,\n        yearSpacing,\n        monthSpacing,\n        daySpacing,\n        direction,\n        originX,\n        originY,\n    }) => {\n        return `${date.toString()}.${cellSize}.${yearIndex}.${yearSpacing}.${monthSpacing}.${daySpacing}.${direction}.${originX}.${originY}`\n    }\n)\n\n/**\n * Returns a function to Compute day cell position for horizontal layout.\n *\n * @param {number} cellSize\n * @param {number} yearSpacing\n * @param {number} monthSpacing\n * @param {number} daySpacing\n * @returns { function(): { x: number, y: number } }\n */\nconst cellPositionHorizontal = (cellSize, yearSpacing, monthSpacing, daySpacing) => {\n    return (originX, originY, d, yearIndex) => {\n        const weekOfYear = timeWeek.count(timeYear(d), d)\n\n        return {\n            x:\n                originX +\n                weekOfYear * (cellSize + daySpacing) +\n                daySpacing / 2 +\n                d.getMonth() * monthSpacing,\n            y:\n                originY +\n                d.getDay() * (cellSize + daySpacing) +\n                daySpacing / 2 +\n                yearIndex * (yearSpacing + 7 * (cellSize + daySpacing)),\n        }\n    }\n}\n\n/**\n * Returns a function to Compute day cell position for vertical layout.\n *\n * @param {number} cellSize\n * @param {number} yearSpacing\n * @param {number} monthSpacing\n * @param {number} daySpacing\n * @returns { function(): { x: number, y: number } }\n */\nconst cellPositionVertical = (cellSize, yearSpacing, monthSpacing, daySpacing) => {\n    return (originX, originY, d, yearIndex) => {\n        const weekOfYear = timeWeek.count(timeYear(d), d)\n\n        return {\n            x:\n                originX +\n                d.getDay() * (cellSize + daySpacing) +\n                daySpacing / 2 +\n                yearIndex * (yearSpacing + 7 * (cellSize + daySpacing)),\n            y:\n                originY +\n                weekOfYear * (cellSize + daySpacing) +\n                daySpacing / 2 +\n                d.getMonth() * monthSpacing,\n        }\n    }\n}\n\n// used for days range and data matching\nconst dayFormat = timeFormat('%Y-%m-%d')\n\n/**\n * Compute base layout, without caring about the current data.\n *\n * @param {number}      width\n * @param {number}      height\n * @param {string|Date} from\n * @param {string|Date} to\n * @param {string}      direction\n * @param {number}      yearSpacing\n * @param {number}      monthSpacing\n * @param {number}      daySpacing\n * @param {string}      align\n * @returns {object}\n */\nexport const computeLayout = ({\n    width,\n    height,\n    from,\n    to,\n    direction,\n    yearSpacing,\n    monthSpacing,\n    daySpacing,\n    align,\n}) => {\n    const fromDate = isDate(from) ? from : new Date(from)\n    const toDate = isDate(to) ? to : new Date(to)\n\n    let yearRange = range(fromDate.getFullYear(), toDate.getFullYear() + 1)\n    const maxWeeks =\n        Math.max(\n            ...yearRange.map(\n                year => timeWeeks(new Date(year, 0, 1), new Date(year + 1, 0, 1)).length\n            )\n        ) + 1\n\n    const cellSize = computeCellSize({\n        width,\n        height,\n        direction,\n        yearRange,\n        yearSpacing,\n        monthSpacing,\n        daySpacing,\n        maxWeeks,\n    })\n\n    const monthsSize = cellSize * maxWeeks + daySpacing * maxWeeks + monthSpacing * 12\n    const yearsSize =\n        (cellSize + daySpacing) * 7 * yearRange.length + yearSpacing * (yearRange.length - 1)\n\n    const calendarWidth = direction === 'horizontal' ? monthsSize : yearsSize\n    const calendarHeight = direction === 'horizontal' ? yearsSize : monthsSize\n    const [originX, originY] = alignBox(\n        {\n            x: 0,\n            y: 0,\n            width: calendarWidth,\n            height: calendarHeight,\n        },\n        {\n            x: 0,\n            y: 0,\n            width,\n            height,\n        },\n        align\n    )\n\n    let cellPosition\n    if (direction === 'horizontal') {\n        cellPosition = cellPositionHorizontal(cellSize, yearSpacing, monthSpacing, daySpacing)\n    } else {\n        cellPosition = cellPositionVertical(cellSize, yearSpacing, monthSpacing, daySpacing)\n    }\n\n    let years = []\n    let months = []\n    let days = []\n\n    yearRange.forEach((year, i) => {\n        const yearStart = new Date(year, 0, 1)\n        const yearEnd = new Date(year + 1, 0, 1)\n\n        days = days.concat(\n            timeDays(yearStart, yearEnd).map(dayDate => {\n                return {\n                    date: dayDate,\n                    day: dayFormat(dayDate),\n                    size: cellSize,\n                    ...cellPosition(originX, originY, dayDate, i),\n                }\n            })\n        )\n\n        const yearMonths = timeMonths(yearStart, yearEnd).map(monthDate => ({\n            date: monthDate,\n            year: monthDate.getFullYear(),\n            month: monthDate.getMonth(),\n            ...memoMonthPathAndBBox({\n                originX,\n                originY,\n                date: monthDate,\n                direction,\n                yearIndex: i,\n                yearSpacing,\n                monthSpacing,\n                daySpacing,\n                cellSize,\n            }),\n        }))\n\n        months = months.concat(yearMonths)\n\n        years.push({\n            year,\n            bbox: {\n                x: yearMonths[0].bbox.x,\n                y: yearMonths[0].bbox.y,\n                width: yearMonths[11].bbox.x - yearMonths[0].bbox.x + yearMonths[11].bbox.width,\n                height: yearMonths[11].bbox.y - yearMonths[0].bbox.y + yearMonths[11].bbox.height,\n            },\n        })\n    })\n\n    return { years, months, days, cellSize, calendarWidth, calendarHeight, originX, originY }\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { useMemo } from 'react'\nimport { computeLayout } from './compute'\n\nexport const useCalendarLayout = ({\n    width,\n    height,\n    from,\n    to,\n    direction,\n    yearSpacing,\n    monthSpacing,\n    daySpacing,\n    align,\n}) =>\n    useMemo(\n        () =>\n            computeLayout({\n                width,\n                height,\n                from,\n                to,\n                direction,\n                yearSpacing,\n                monthSpacing,\n                daySpacing,\n                align,\n            }),\n        [width, height, from, to, direction, yearSpacing, monthSpacing, daySpacing, align]\n    )\n","/**\n * Compute min/max values.\n *\n * @param {Array<>}       data\n * @param {number|'auto'} minSpec - Define the strategy to use to compute min value, if number, it will be used, if 'auto', will use the lower value from the dataset\n * @param {number|'auto'} maxSpec - Define the strategy to use to compute max value, if number, it will be used, if 'auto', will use the higher value from the dataset\n * @return {[number, string]}\n */\nexport const computeDomain = (data, minSpec, maxSpec) => {\n    const allValues = data.map(d => d.value)\n    const minValue = minSpec === 'auto' ? Math.min(...allValues) : minSpec\n    const maxValue = maxSpec === 'auto' ? Math.max(...allValues) : maxSpec\n\n    return [minValue, maxValue]\n}\n\nexport const computeMonthLegendPositions = ({ months, direction, position, offset }) => {\n    return months.map(month => {\n        let x = 0\n        let y = 0\n        let rotation = 0\n        if (direction === 'horizontal' && position === 'before') {\n            x = month.bbox.x + month.bbox.width / 2\n            y = month.bbox.y - offset\n        } else if (direction === 'horizontal' && position === 'after') {\n            x = month.bbox.x + month.bbox.width / 2\n            y = month.bbox.y + month.bbox.height + offset\n        } else if (direction === 'vertical' && position === 'before') {\n            x = month.bbox.x - offset\n            y = month.bbox.y + month.bbox.height / 2\n            rotation = -90\n        } else {\n            x = month.bbox.x + month.bbox.width + offset\n            y = month.bbox.y + month.bbox.height / 2\n            rotation = -90\n        }\n\n        return {\n            ...month,\n            x,\n            y,\n            rotation,\n        }\n    })\n}\n\n/**\n * Bind current data to computed day cells.\n *\n * @param {array}  days\n * @param {array}  data\n * @param {object} colorScale\n * @param {string} emptyColor\n * @returns {Array}\n */\nexport const bindDaysData = ({ days, data, colorScale, emptyColor }) => {\n    return days.map(day => {\n        day.color = emptyColor\n        data.forEach(dayData => {\n            if (dayData.day === day.day) {\n                day.value = dayData.value\n                day.color = colorScale(dayData.value)\n                day.data = dayData\n            }\n        })\n        return day\n    })\n}\n\nexport const computeBlockLegendPositions = ({ blocks, direction, position, offset }) => {\n    return blocks.map(block => {\n        let x = 0\n        let y = 0\n        let rotation = 0\n        if (direction === 'horizontal' && position === 'before') {\n            x = block.bbox.x - offset\n            y = block.bbox.y + block.bbox.height / 2\n            rotation = -90\n        } else if (direction === 'horizontal' && position === 'after') {\n            x = block.bbox.x + block.bbox.width + offset\n            y = block.bbox.y + block.bbox.height / 2\n            rotation = -90\n        } else if (direction === 'vertical' && position === 'before') {\n            x = block.bbox.x + block.bbox.width / 2\n            y = block.bbox.y - offset\n        } else {\n            x = block.bbox.x + block.bbox.width / 2\n            y = block.bbox.y + block.bbox.height + offset\n        }\n\n        return {\n            ...block,\n            x,\n            y,\n            rotation,\n        }\n    })\n}\n","import {\n    computeDomain,\n    computeBlockLegendPositions,\n    bindDaysData,\n    computeMonthLegendPositions,\n} from './sharedCompute'\nimport { useMemo } from 'react'\nimport { scaleQuantize } from 'd3-scale'\n\nexport const useColorScale = ({ data, minValue, maxValue, colors, colorScale }) =>\n    useMemo(() => {\n        if (colorScale) return colorScale\n        const domain = computeDomain(data, minValue, maxValue)\n        const defaultColorScale = scaleQuantize().domain(domain).range(colors)\n        return defaultColorScale\n    }, [data, minValue, maxValue, colors, colorScale])\n\nexport const useBlockLegends = ({ blocks, direction, blockLegendPosition, blockLegendOffset }) =>\n    useMemo(\n        () =>\n            computeBlockLegendPositions({\n                blocks,\n                direction,\n                position: blockLegendPosition,\n                offset: blockLegendOffset,\n            }),\n        [blocks, direction, blockLegendPosition, blockLegendOffset]\n    )\n\nexport const useDays = ({ days, data, colorScale, emptyColor }) =>\n    useMemo(\n        () =>\n            bindDaysData({\n                days,\n                data,\n                colorScale,\n                emptyColor,\n            }),\n        [days, data, colorScale, emptyColor]\n    )\n\nexport const useMonthLegends = ({ months, direction, monthLegendPosition, monthLegendOffset }) =>\n    useMemo(\n        () =>\n            computeMonthLegendPositions({\n                months,\n                direction,\n                position: monthLegendPosition,\n                offset: monthLegendOffset,\n            }),\n        [months, direction, monthLegendPosition, monthLegendOffset]\n    )\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { useTooltip } from '@nivo/tooltip'\n\nconst CalendarDay = memo(\n    ({\n        data,\n        x,\n        y,\n        size,\n        color,\n        borderWidth,\n        borderColor,\n        isInteractive,\n        tooltip,\n        onMouseEnter,\n        onMouseMove,\n        onMouseLeave,\n        onClick,\n        formatValue,\n    }) => {\n        const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n        const handleMouseEnter = useCallback(\n            event => {\n                const formatedData = {\n                    ...data,\n                    value: formatValue(data.value),\n                    data: { ...data.data },\n                }\n                showTooltipFromEvent(React.createElement(tooltip, { ...formatedData }), event)\n                onMouseEnter && onMouseEnter(data, event)\n            },\n            [showTooltipFromEvent, tooltip, data, onMouseEnter, formatValue]\n        )\n        const handleMouseMove = useCallback(\n            event => {\n                const formatedData = {\n                    ...data,\n                    value: formatValue(data.value),\n                    data: { ...data.data },\n                }\n                showTooltipFromEvent(React.createElement(tooltip, { ...formatedData }), event)\n                onMouseMove && onMouseMove(data, event)\n            },\n            [showTooltipFromEvent, tooltip, data, onMouseMove, formatValue]\n        )\n        const handleMouseLeave = useCallback(\n            event => {\n                hideTooltip()\n                onMouseLeave && onMouseLeave(data, event)\n            },\n            [hideTooltip, data, onMouseLeave]\n        )\n        const handleClick = useCallback(event => onClick && onClick(data, event), [data, onClick])\n\n        return (\n            <rect\n                x={x}\n                y={y}\n                width={size}\n                height={size}\n                style={{\n                    fill: color,\n                    strokeWidth: borderWidth,\n                    stroke: borderColor,\n                }}\n                onMouseEnter={isInteractive ? handleMouseEnter : undefined}\n                onMouseMove={isInteractive ? handleMouseMove : undefined}\n                onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n                onClick={isInteractive ? handleClick : undefined}\n            />\n        )\n    }\n)\n\nCalendarDay.displayName = 'CalendarDay'\nCalendarDay.propTypes = {\n    onClick: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    data: PropTypes.object.isRequired,\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    size: PropTypes.number.isRequired,\n    spacing: PropTypes.number.isRequired,\n    color: PropTypes.string.isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    borderColor: PropTypes.string.isRequired,\n    isInteractive: PropTypes.bool.isRequired,\n    formatValue: PropTypes.func,\n\n    tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n\n    theme: PropTypes.shape({\n        tooltip: PropTypes.shape({}).isRequired,\n    }).isRequired,\n}\n\nexport default CalendarDay\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { SvgWrapper, useTheme, useDimensions, withContainer, useValueFormatter } from '@nivo/core'\nimport { BoxLegendSvg } from '@nivo/legends'\nimport { CalendarPropTypes, CalendarDefaultProps } from './props'\nimport CalendarYearLegends from './CalendarYearLegends'\nimport CalendarMonthPath from './CalendarMonthPath'\nimport CalendarMonthLegends from './CalendarMonthLegends'\nimport { useCalendarLayout } from './hooks'\nimport { useMonthLegends, useBlockLegends, useDays, useColorScale } from './sharedHooks'\nimport CalendarDay from './CalendarDay'\n\nconst Calendar = ({\n    margin: partialMargin,\n    width,\n    height,\n\n    align,\n    colors,\n    colorScale,\n    data,\n    direction,\n    emptyColor,\n    from,\n    to,\n    minValue,\n    maxValue,\n    valueFormat,\n    legendFormat,\n\n    yearLegend,\n    yearLegendOffset,\n    yearLegendPosition,\n    yearSpacing,\n\n    monthBorderColor,\n    monthBorderWidth,\n    monthLegend,\n    monthLegendOffset,\n    monthLegendPosition,\n    monthSpacing,\n\n    dayBorderColor,\n    dayBorderWidth,\n    daySpacing,\n\n    isInteractive,\n    tooltip,\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n    onMouseMove,\n\n    legends,\n    role,\n}) => {\n    const theme = useTheme()\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n    const { months, years, ...rest } = useCalendarLayout({\n        width: innerWidth,\n        height: innerHeight,\n        from,\n        to,\n        direction,\n        yearSpacing,\n        monthSpacing,\n        daySpacing,\n        align,\n    })\n    const colorScaleFn = useColorScale({ data, minValue, maxValue, colors, colorScale })\n    const monthLegends = useMonthLegends({\n        months,\n        direction,\n        monthLegendPosition,\n        monthLegendOffset,\n    })\n    const yearLegends = useBlockLegends({\n        blocks: years,\n        direction,\n        blockLegendPosition: yearLegendPosition,\n        blockLegendOffset: yearLegendOffset,\n    })\n    const days = useDays({ days: rest.days, data, colorScale: colorScaleFn, emptyColor })\n    const formatLegend = useValueFormatter(legendFormat)\n    const formatValue = useValueFormatter(valueFormat)\n\n    return (\n        <SvgWrapper\n            width={outerWidth}\n            height={outerHeight}\n            margin={margin}\n            theme={theme}\n            role={role}\n        >\n            {days.map(d => (\n                <CalendarDay\n                    key={d.date.toString()}\n                    data={d}\n                    x={d.x}\n                    y={d.y}\n                    size={d.size}\n                    spacing={daySpacing}\n                    color={d.color}\n                    borderWidth={dayBorderWidth}\n                    borderColor={dayBorderColor}\n                    onMouseEnter={onMouseEnter}\n                    onMouseLeave={onMouseLeave}\n                    onMouseMove={onMouseMove}\n                    isInteractive={isInteractive}\n                    tooltip={tooltip}\n                    theme={theme}\n                    onClick={onClick}\n                    formatValue={formatValue}\n                />\n            ))}\n            {months.map(m => (\n                <CalendarMonthPath\n                    key={m.date.toString()}\n                    path={m.path}\n                    borderWidth={monthBorderWidth}\n                    borderColor={monthBorderColor}\n                />\n            ))}\n            <CalendarMonthLegends months={monthLegends} legend={monthLegend} theme={theme} />\n            <CalendarYearLegends years={yearLegends} legend={yearLegend} theme={theme} />\n            {legends.map((legend, i) => {\n                const legendData = colorScaleFn.ticks(legend.itemCount).map(value => ({\n                    id: value,\n                    label: formatLegend(value),\n                    color: colorScaleFn(value),\n                }))\n\n                return (\n                    <BoxLegendSvg\n                        key={i}\n                        {...legend}\n                        containerWidth={width}\n                        containerHeight={height}\n                        data={legendData}\n                        theme={theme}\n                    />\n                )\n            })}\n        </SvgWrapper>\n    )\n}\n\nCalendar.displayName = 'Calendar'\nCalendar.defaultProps = CalendarDefaultProps\nCalendar.propTypes = CalendarPropTypes\n\nexport default withContainer(Calendar)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\n\nconst CalendarBlockLegends = memo(({ blocks, legend, theme }) => {\n    return (\n        <>\n            {blocks.map(block => {\n                return (\n                    <text\n                        key={\n                            String(block.firstYear) +\n                            String(block.firstMonth) +\n                            String(block.lastYear) +\n                            String(block.lastMonth)\n                        }\n                        transform={`translate(${block.x},${block.y}) rotate(${block.rotation})`}\n                        textAnchor=\"middle\"\n                        style={theme.labels.text}\n                    >\n                        {legend(block)}\n                    </text>\n                )\n            })}\n        </>\n    )\n})\n\nCalendarBlockLegends.propTypes = {\n    blocks: PropTypes.array.isRequired,\n    legend: PropTypes.func.isRequired,\n    theme: PropTypes.object.isRequired,\n}\n\nCalendarBlockLegends.displayName = 'CalendarBlockLegends'\n\nexport default CalendarBlockLegends\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport memoize from 'lodash.memoize'\nimport isDate from 'lodash.isdate'\nimport range from 'lodash.range'\nimport { alignBox } from '@nivo/core'\nimport { timeFormat } from 'd3-time-format'\nimport { timeDays, timeWeek, timeWeeks, timeMonths } from 'd3-time'\n\n/**\n * Compute min/max values.\n *\n * @param {Array<>}       data\n * @param {number|'auto'} minSpec - Define the strategy to use to compute min value, if number, it will be used, if 'auto', will use the lower value from the dataset\n * @param {number|'auto'} maxSpec - Define the strategy to use to compute max value, if number, it will be used, if 'auto', will use the higher value from the dataset\n * @return {[number, string]}\n */\nexport const computeDomain = (data, minSpec, maxSpec) => {\n    const allValues = data.map(d => d.value)\n    const minValue = minSpec === 'auto' ? Math.min(...allValues) : minSpec\n    const maxValue = maxSpec === 'auto' ? Math.max(...allValues) : maxSpec\n\n    return [minValue, maxValue]\n}\n\n/**\n * Compute day cell size according to current context.\n *\n * @param {number} width\n * @param {number} height\n * @param {number} direction\n * @param {number} blocks\n * @param {number} blockSpacing\n * @param {number} monthSpacing\n * @param {number} daySpacing\n * @param {number} maxRowsMonth\n * * @param {number} maxColumnsGroup\n * @param {number} monthsPerGroup\n * @returns {number}\n */\nconst computeCellSize = ({\n    width,\n    height,\n    direction,\n    blocks,\n    blockSpacing,\n    monthSpacing,\n    daySpacing,\n    maxRowsMonth,\n    maxColumnsGroup,\n    monthsPerGroup,\n}) => {\n    let hCellSize\n    let vCellSize\n\n    if (direction === 'horizontal') {\n        hCellSize =\n            (width - monthSpacing * monthsPerGroup - daySpacing * maxColumnsGroup) / maxColumnsGroup\n        vCellSize =\n            (height - (blocks - 1) * blockSpacing - blocks * (maxRowsMonth * daySpacing)) /\n            (blocks * maxRowsMonth)\n    } else {\n        hCellSize =\n            (width - (blocks - 1) * blockSpacing - blocks * (maxRowsMonth * daySpacing)) /\n            (blocks * maxRowsMonth)\n        vCellSize =\n            (height - monthSpacing * monthsPerGroup - daySpacing * maxColumnsGroup) /\n            maxColumnsGroup\n    }\n\n    return Math.min(hCellSize, vCellSize)\n}\n\n/**\n * Computes month path and bounding box.\n *\n * @param {Date}   date\n * @param {number} cellSize\n * @param {number} blockIndex\n * @param {number} blockSpacing\n * @param {number} monthSpacing\n * @param {number} daySpacing\n * @param {string} direction\n * @param {number} originX\n * @param {number} originY\n * @param {Date} startDate\n * @param {number} maxRowsMonth\n * @param {string} weekDirection\n * @returns { { path: string, bbox: { x: number, y: number, width: number, height: number } } }\n */\nconst monthPathAndBBox = ({\n    date,\n    cellSize,\n    blockIndex,\n    blockSpacing,\n    monthSpacing,\n    daySpacing,\n    direction,\n    originX,\n    originY,\n    startDate,\n    maxRowsMonth,\n    weekDirection,\n}) => {\n    // first day of next month\n    const t1 = new Date(date.getFullYear(), date.getMonth() + 1, 0)\n\n    // ranges\n    const elapsedMonths = getElapsedMonths(startDate, date)\n    let firstWeek\n    const lastWeek =\n        direction === weekDirection ? timeWeek.count(date, t1) : timeWeek.count(startDate, t1)\n    let firstDay = date.getDay()\n    let lastDay = t1.getDay()\n\n    // offset according to year index and month\n    let xO = originX\n    let yO = originY\n\n    if (direction === 'vertical' && weekDirection === 'vertical') {\n        yO += elapsedMonths * (maxRowsMonth * (cellSize + daySpacing) + monthSpacing)\n        xO += blockIndex * (7 * (cellSize + daySpacing) + blockSpacing)\n        firstWeek = 0\n    } else if (direction === 'vertical' && weekDirection === 'horizontal') {\n        firstWeek = timeWeek.count(startDate, date)\n        yO += elapsedMonths * monthSpacing\n        xO += blockIndex * (maxRowsMonth * (cellSize + daySpacing) + blockSpacing)\n    } else if (direction === 'horizontal' && weekDirection === 'vertical') {\n        firstWeek = timeWeek.count(startDate, date)\n        xO += elapsedMonths * monthSpacing\n        yO += blockIndex * (7 * (cellSize + daySpacing) + blockSpacing)\n    } else {\n        //Horizontal Horizontal\n        firstWeek = 0\n        xO += elapsedMonths * (monthSpacing + 7 * (cellSize + daySpacing))\n        yO += blockIndex * (maxRowsMonth * (cellSize + daySpacing) + blockSpacing)\n    }\n\n    let path\n    let bbox = { x: xO, y: yO, width: 0, height: 0 }\n    if (weekDirection === 'vertical') {\n        path = [\n            `M${xO + (firstWeek + 1) * (cellSize + daySpacing)},${\n                yO + firstDay * (cellSize + daySpacing)\n            }`,\n            `H${xO + firstWeek * (cellSize + daySpacing)}V${yO + 7 * (cellSize + daySpacing)}`,\n            `H${xO + lastWeek * (cellSize + daySpacing)}V${\n                yO + (lastDay + 1) * (cellSize + daySpacing)\n            }`,\n            `H${xO + (lastWeek + 1) * (cellSize + daySpacing)}V${yO}`,\n            `H${xO + (firstWeek + 1) * (cellSize + daySpacing)}Z`,\n        ].join('')\n\n        bbox.x = xO + firstWeek * (cellSize + daySpacing)\n        bbox.width = xO + (lastWeek + 1) * (cellSize + daySpacing) - bbox.x\n        bbox.height = 7 * (cellSize + daySpacing)\n    } else {\n        path = [\n            `M${xO + firstDay * (cellSize + daySpacing)},${\n                yO + (firstWeek + 1) * (cellSize + daySpacing)\n            }`,\n            `H${xO}V${yO + (lastWeek + 1) * (cellSize + daySpacing)}`,\n            `H${xO + (lastDay + 1) * (cellSize + daySpacing)}V${\n                yO + lastWeek * (cellSize + daySpacing)\n            }`,\n            `H${xO + 7 * (cellSize + daySpacing)}V${yO + firstWeek * (cellSize + daySpacing)}`,\n            `H${xO + firstDay * (cellSize + daySpacing)}Z`,\n        ].join('')\n\n        bbox.y = yO + firstWeek * (cellSize + daySpacing)\n        bbox.width = 7 * (cellSize + daySpacing)\n        bbox.height = yO + (lastWeek + 1) * (cellSize + daySpacing) - bbox.y\n    }\n\n    return { path, bbox }\n}\n\nconst getElapsedMonths = (from, to) => {\n    return to.getMonth() - from.getMonth() + 12 * (to.getFullYear() - from.getFullYear())\n}\n\nconst getA = (d, blockIndex, blockSpacing, daySpacing, maxRowsMonth, cellSize) => {\n    const weekOfMonth = getWeekOfTheMonth(d)\n    return (\n        weekOfMonth * (cellSize + daySpacing) +\n        daySpacing / 2 +\n        blockIndex * (blockSpacing + maxRowsMonth * (cellSize + daySpacing))\n    )\n}\n\nconst getB = (d, startDate, monthSpacing, daySpacing, cellSize) => {\n    const elapsedMonths = getElapsedMonths(startDate, d)\n    return (\n        elapsedMonths * 7 * (cellSize + daySpacing) +\n        d.getDay() * (cellSize + daySpacing) +\n        daySpacing / 2 +\n        elapsedMonths * monthSpacing\n    )\n}\n\nconst getC = (d, blockIndex, blockSpacing, daySpacing, maxRowsMonth, cellSize) => {\n    return (\n        d.getDay() * (cellSize + daySpacing) +\n        daySpacing / 2 +\n        blockIndex * (blockSpacing + maxRowsMonth * (cellSize + daySpacing))\n    )\n}\n\nconst getD = (d, startDate, monthSpacing, daySpacing, cellSize) => {\n    const elapsedWeeks = timeWeek.count(startDate, d)\n    const elapsedMonths = getElapsedMonths(startDate, d)\n    return elapsedWeeks * (cellSize + daySpacing) + daySpacing / 2 + elapsedMonths * monthSpacing\n}\n\nconst getWeekOfTheMonth = date => {\n    const firstWeekday = new Date(date.getFullYear(), date.getMonth(), 1).getDay()\n    const offsetDate = date.getDate() + firstWeekday - 1\n    return Math.floor(offsetDate / 7)\n}\n\n/**\n * Creates a memoized version of monthPathAndBBox function.\n */\nconst memoMonthPathAndBBox = memoize(\n    monthPathAndBBox,\n    ({\n        date,\n        cellSize,\n        blockIndex,\n        blockSpacing,\n        monthSpacing,\n        daySpacing,\n        direction,\n        originX,\n        originY,\n        startDate,\n        maxRowsMonth,\n        weekDirection,\n    }) => {\n        return `${date.toString()}.${startDate.toString()}.${maxRowsMonth}.${weekDirection}.${cellSize}.${blockIndex}.${blockSpacing}.${monthSpacing}.${daySpacing}.${direction}.${originX}.${originY}`\n    }\n)\n\n/**\n * Returns a function to Compute day cell position for horizontal layout and vertical week layout.\n *\n * @param {number} cellSize\n * @param {number} blockSpacing\n * @param {number} monthSpacing\n * @param {number} daySpacing\n * @returns { function(): { x: number, y: number } }\n */\nconst cellPositionHorizontalVertical = (\n    cellSize,\n    blockSpacing,\n    monthSpacing,\n    daySpacing,\n    maxRowsMonth\n) => {\n    return (originX, originY, d, blockIndex, startDate) => {\n        return {\n            x: originX + getD(d, startDate, monthSpacing, daySpacing, cellSize),\n            y: originY + getC(d, blockIndex, blockSpacing, daySpacing, maxRowsMonth, cellSize),\n        }\n    }\n}\n\n/**\n * Returns a function to Compute day cell position for vertical layout and horizontal week layout.\n *\n * @param {number} cellSize\n * @param {number} blockSpacing\n * @param {number} monthSpacing\n * @param {number} daySpacing\n * @returns { function(): { x: number, y: number } }\n */\nconst cellPositionVerticalHorizontal = (\n    cellSize,\n    blockSpacing,\n    monthSpacing,\n    daySpacing,\n    maxRowsMonth\n) => {\n    return (originX, originY, d, blockIndex, startDate) => {\n        return {\n            x: originX + getC(d, blockIndex, blockSpacing, daySpacing, maxRowsMonth, cellSize),\n            y: originY + getD(d, startDate, monthSpacing, daySpacing, cellSize),\n        }\n    }\n}\n\n/**\n * Returns a function to Compute day cell position for vertical layout and vertical week layout.\n *\n * @param {number} cellSize\n * @param {number} blockSpacing\n * @param {number} monthSpacing\n * @param {number} daySpacing\n * @returns { function(): { x: number, y: number } }\n */\nconst cellPositionVerticalVertical = (\n    cellSize,\n    blockSpacing,\n    monthSpacing,\n    daySpacing,\n    maxRowsMonth\n) => {\n    return (originX, originY, d, blockIndex, startDate) => {\n        return {\n            x: originX + getA(d, blockIndex, blockSpacing, daySpacing, maxRowsMonth, cellSize),\n            y: originY + getB(d, startDate, monthSpacing, daySpacing, cellSize),\n        }\n    }\n}\n\n/**\n * Returns a function to Compute day cell position for horizontal layout and horizontal week layout.\n *\n * @param {number} cellSize\n * @param {number} blockSpacing\n * @param {number} monthSpacing\n * @param {number} daySpacing\n * @returns { function(): { x: number, y: number } }\n */\nconst cellPositionHorizontalHorizontal = (\n    cellSize,\n    blockSpacing,\n    monthSpacing,\n    daySpacing,\n    maxRowsMonth\n) => {\n    return (originX, originY, d, blockIndex, startDate) => {\n        return {\n            x: originX + getB(d, startDate, monthSpacing, daySpacing, cellSize),\n            y: originY + getA(d, blockIndex, blockSpacing, daySpacing, maxRowsMonth, cellSize),\n        }\n    }\n}\n\n// used for days range and data matching\nconst dayFormat = timeFormat('%Y-%m-%d')\n\n/**\n * Compute base layout, without caring about the current data.\n *\n * @param {number}      width\n * @param {number}      height\n * @param {string|Date} from\n * @param {string|Date} to\n * @param {string}      direction\n * @param {number}      blockSpacing\n * @param {number}      monthSpacing\n * @param {number}      daySpacing\n * @param {string}      align\n * @param {string}      weekDirection\n * @param {string}      granularity\n * @param {number}      breakpoint\n * @returns {object}\n */\nexport const computeLayout = ({\n    width,\n    height,\n    from,\n    to,\n    direction,\n    blockSpacing,\n    monthSpacing,\n    daySpacing,\n    align,\n    weekDirection,\n    granularity,\n    breakpoint,\n}) => {\n    const fromDate = isDate(from) ? from : new Date(from)\n    const toDate = isDate(to) ? to : new Date(to)\n\n    if (weekDirection === 'auto') {\n        weekDirection = direction === 'vertical' ? 'horizontal' : 'vertical'\n    }\n    if (breakpoint === 'auto') {\n        if (granularity === 'year') {\n            breakpoint = 1\n        } else {\n            breakpoint = getElapsedMonths(fromDate, toDate) + 1\n        }\n    }\n    let monthsPerGroup\n    let dates = []\n    let maxRowsMonth\n    let maxColumnsGroup = 0\n    if (granularity === 'year') {\n        // An year will always have a month with at least 6 parcial weeks\n        maxRowsMonth = weekDirection === 'horizontal' ? 6 : 7\n        maxColumnsGroup = 0\n        let yearRange = range(fromDate.getFullYear(), toDate.getFullYear() + 1)\n        monthsPerGroup = Math.min(yearRange.length, breakpoint) * 12\n        while (yearRange.length) {\n            const arr = yearRange.splice(0, breakpoint)\n            const begin = new Date(arr[0], 0, 1)\n            const end = new Date(arr[arr.length - 1] + 1, 0, 1)\n            dates.push([begin, end])\n            maxColumnsGroup = Math.max(maxColumnsGroup, timeWeeks(begin, end).length)\n        }\n        maxColumnsGroup += 1\n    } else {\n        //can only be month\n        monthsPerGroup = Math.min(getElapsedMonths(fromDate, toDate) + 1, breakpoint)\n        let date = new Date(fromDate.getFullYear(), fromDate.getMonth(), 1)\n        let aux = new Date(date.getTime())\n        while (date < toDate) {\n            if (weekDirection === 'horizontal' && maxRowsMonth !== 6) {\n                let i = 1\n                while (i <= breakpoint) {\n                    let weekDay = new Date(aux.getFullYear(), aux.getMonth() + i - 1, 1).getDay()\n                    let days = new Date(date.getFullYear(), date.getMonth() + i, 0).getDate()\n                    if (days + weekDay >= 36) {\n                        maxRowsMonth = 6\n                        break\n                    } else if (days + weekDay == 28) {\n                        maxRowsMonth = Math.max(maxRowsMonth, 4)\n                    } else {\n                        maxRowsMonth = 5\n                    }\n                    i += 1\n                }\n            }\n            aux.setMonth(aux.getMonth() + breakpoint)\n            let pair = [date, new Date(aux.getTime() - 1)] //set this date as the last possible one from the previous month.\n            dates.push(pair)\n            if (direction !== weekDirection) {\n                maxColumnsGroup = Math.max(timeWeeks(pair[0], pair[1]).length + 1, maxColumnsGroup)\n            }\n            date = new Date(aux.getTime())\n        }\n        if (weekDirection === 'vertical') {\n            maxRowsMonth = 7\n        }\n    }\n    if (direction === weekDirection) {\n        maxColumnsGroup = 7 * monthsPerGroup\n    }\n\n    const cellSize = computeCellSize({\n        width,\n        height,\n        direction,\n        blocks: dates.length,\n        blockSpacing,\n        monthSpacing,\n        daySpacing,\n        maxRowsMonth,\n        maxColumnsGroup,\n        monthsPerGroup,\n    })\n\n    const monthsSize =\n        cellSize * maxColumnsGroup + daySpacing * maxColumnsGroup + monthSpacing * monthsPerGroup\n    const yearsSize =\n        (cellSize + daySpacing) * maxRowsMonth * dates.length +\n        blockSpacing * (dates.length > 1 ? dates.length : 0)\n\n    const calendarWidth = direction === 'horizontal' ? monthsSize : yearsSize\n    const calendarHeight = direction === 'horizontal' ? yearsSize : monthsSize\n    const [originX, originY] = alignBox(\n        {\n            x: 0,\n            y: 0,\n            width: calendarWidth,\n            height: calendarHeight,\n        },\n        {\n            x: 0,\n            y: 0,\n            width,\n            height,\n        },\n        align\n    )\n    let cellPosition\n    if (direction === 'horizontal') {\n        if (weekDirection === 'horizontal') {\n            cellPosition = cellPositionHorizontalHorizontal(\n                cellSize,\n                blockSpacing,\n                monthSpacing,\n                daySpacing,\n                maxRowsMonth\n            )\n        } else {\n            cellPosition = cellPositionHorizontalVertical(\n                cellSize,\n                blockSpacing,\n                monthSpacing,\n                daySpacing,\n                maxRowsMonth\n            )\n        }\n    } else {\n        if (weekDirection === 'horizontal') {\n            cellPosition = cellPositionVerticalHorizontal(\n                cellSize,\n                blockSpacing,\n                monthSpacing,\n                daySpacing,\n                maxRowsMonth\n            )\n        } else {\n            cellPosition = cellPositionVerticalVertical(\n                cellSize,\n                blockSpacing,\n                monthSpacing,\n                daySpacing,\n                maxRowsMonth\n            )\n        }\n    }\n\n    let blocks = []\n    let months = []\n    let days = []\n\n    dates.forEach((date, i) => {\n        days = days.concat(\n            timeDays(date[0], date[1]).map(dayDate => {\n                return {\n                    date: dayDate,\n                    day: dayFormat(dayDate),\n                    size: cellSize,\n                    ...cellPosition(originX, originY, dayDate, i, date[0]),\n                }\n            })\n        )\n        const blockMonths = timeMonths(date[0], date[1]).map(monthDate => ({\n            date: monthDate,\n            year: monthDate.getFullYear(),\n            month: monthDate.getMonth(),\n            ...memoMonthPathAndBBox({\n                originX,\n                originY,\n                date: monthDate,\n                direction,\n                blockIndex: i,\n                blockSpacing,\n                monthSpacing,\n                daySpacing,\n                cellSize,\n                startDate: date[0],\n                maxRowsMonth,\n                weekDirection,\n            }),\n        }))\n\n        months = months.concat(blockMonths)\n        blocks.push({\n            firstMonth: date[0].getMonth(),\n            firstYear: date[0].getFullYear(),\n            lastMonth: date[1].getMonth(),\n            lastYear: date[1].getFullYear(),\n            bbox: {\n                x: blockMonths[0].bbox.x,\n                y: blockMonths[0].bbox.y,\n                width:\n                    blockMonths[blockMonths.length - 1].bbox.x -\n                    blockMonths[0].bbox.x +\n                    blockMonths[blockMonths.length - 1].bbox.width,\n                height:\n                    blockMonths[blockMonths.length - 1].bbox.y -\n                    blockMonths[0].bbox.y +\n                    blockMonths[blockMonths.length - 1].bbox.height,\n            },\n        })\n    })\n    return { blocks, months, days, cellSize, calendarWidth, calendarHeight, originX, originY }\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { useMemo } from 'react'\nimport { computeLayout } from './enhancedCompute'\n\nexport const useCalendarLayout = ({\n    width,\n    height,\n    from,\n    to,\n    direction,\n    blockSpacing,\n    monthSpacing,\n    daySpacing,\n    align,\n    granularity,\n    weekDirection,\n    breakpoint,\n}) =>\n    useMemo(\n        () =>\n            computeLayout({\n                width,\n                height,\n                from,\n                to,\n                direction,\n                blockSpacing,\n                monthSpacing,\n                daySpacing,\n                align,\n                granularity,\n                weekDirection,\n                breakpoint,\n            }),\n        [\n            width,\n            height,\n            from,\n            to,\n            direction,\n            blockSpacing,\n            monthSpacing,\n            daySpacing,\n            align,\n            granularity,\n            weekDirection,\n            breakpoint,\n        ]\n    )\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\nimport { CalendarPropTypes } from './props'\nimport { CalendarDefaultProps } from './props'\n\nconst {\n    // eslint-disable-next-line no-unused-vars\n    yearLegend,\n    // eslint-disable-next-line no-unused-vars\n    yearSpacing,\n    // eslint-disable-next-line no-unused-vars\n    yearLegendPosition,\n    // eslint-disable-next-line no-unused-vars\n    yearLegendOffset,\n    ...filteredPropTypes\n} = CalendarPropTypes\n\nconst enhancedCommonPropTypes = {\n    ...filteredPropTypes,\n    granularity: PropTypes.oneOf(['year', 'month']).isRequired,\n    weekDirection: PropTypes.oneOf(['auto', 'horizontal', 'vertical']).isRequired,\n    breakpoint: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]).isRequired,\n    blockLegend: PropTypes.func.isRequired,\n    blockSpacing: PropTypes.number.isRequired,\n    blockLegendPosition: PropTypes.oneOf(['before', 'after']).isRequired,\n    blockLegendOffset: PropTypes.number.isRequired,\n}\n\nexport const EnhancedCalendarPropTypes = enhancedCommonPropTypes\n\nexport const EnhancedCalendarCanvasPropTypes = {\n    ...enhancedCommonPropTypes,\n    pixelRatio: PropTypes.number.isRequired,\n}\n\nconst {\n    // eslint-disable-next-line no-unused-vars\n    ['yearSpacing']: yearSpacingDefault,\n    // eslint-disable-next-line no-unused-vars\n    ['yearLegend']: yearLegendDefault,\n    // eslint-disable-next-line no-unused-vars\n    ['yearLegendPosition']: yearLegendPositionDefault,\n    // eslint-disable-next-line no-unused-vars\n    ['yearLegendOffset']: yearLegendOffsetDefault,\n    ...filteredDefaultProps\n} = CalendarDefaultProps\nconst enhancedCommonDefaultProps = {\n    ...filteredDefaultProps,\n    granularity: 'year',\n    weekDirection: 'auto',\n    breakpoint: 'auto',\n    blockSpacing: 30,\n    blockLegend: block => block.firstYear,\n    blockLegendPosition: 'before',\n    blockLegendOffset: 10,\n}\n\nexport const EnhancedCalendarDefaultProps = enhancedCommonDefaultProps\n\nexport const EnhancedCalendarCanvasDefaultProps = {\n    ...enhancedCommonDefaultProps,\n    pixelRatio:\n        global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1,\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { SvgWrapper, useTheme, useDimensions, withContainer, useValueFormatter } from '@nivo/core'\nimport { BoxLegendSvg } from '@nivo/legends'\n\nimport CalendarBlockLegends from './CalendarBlockLegends'\nimport CalendarMonthPath from './CalendarMonthPath'\nimport CalendarMonthLegends from './CalendarMonthLegends'\n\nimport { useCalendarLayout } from './enhancedHooks'\nimport { useMonthLegends, useBlockLegends, useDays, useColorScale } from './sharedHooks'\nimport CalendarDay from './CalendarDay'\nimport { EnhancedCalendarPropTypes, EnhancedCalendarDefaultProps } from './enhancedProps'\n\nconst EnhancedCalendar = ({\n    margin: partialMargin,\n    width,\n    height,\n\n    align,\n    colors,\n    colorScale,\n    data,\n    direction,\n    emptyColor,\n    from,\n    to,\n    minValue,\n    maxValue,\n    valueFormat,\n    legendFormat,\n\n    blockLegend,\n    blockLegendOffset,\n    blockLegendPosition,\n    blockSpacing,\n\n    monthBorderColor,\n    monthBorderWidth,\n    monthLegend,\n    monthLegendOffset,\n    monthLegendPosition,\n    monthSpacing,\n\n    dayBorderColor,\n    dayBorderWidth,\n    daySpacing,\n\n    granularity,\n    weekDirection,\n    breakpoint,\n\n    isInteractive,\n    tooltip,\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n    onMouseMove,\n\n    legends,\n    role,\n}) => {\n    const theme = useTheme()\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n    let { months, blocks, days } = useCalendarLayout({\n        width: innerWidth,\n        height: innerHeight,\n        from,\n        to,\n        direction,\n        blockSpacing,\n        monthSpacing,\n        daySpacing,\n        align,\n        granularity,\n        weekDirection,\n        breakpoint,\n    })\n    colorScale = useColorScale({ data, minValue, maxValue, colors, colorScale })\n    const monthLegends = useMonthLegends({\n        months,\n        direction,\n        monthLegendPosition,\n        monthLegendOffset,\n    })\n    const blockLegends = useBlockLegends({\n        blocks,\n        direction,\n        blockLegendPosition,\n        blockLegendOffset,\n    })\n    days = useDays({ days, data, colorScale, emptyColor })\n    const formatLegend = useValueFormatter(legendFormat)\n    const formatValue = useValueFormatter(valueFormat)\n\n    return (\n        <SvgWrapper\n            width={outerWidth}\n            height={outerHeight}\n            margin={margin}\n            theme={theme}\n            role={role}\n        >\n            {days.map(d => (\n                <CalendarDay\n                    key={d.date.toString()}\n                    data={d}\n                    x={d.x}\n                    y={d.y}\n                    size={d.size}\n                    spacing={daySpacing}\n                    color={d.color}\n                    borderWidth={dayBorderWidth}\n                    borderColor={dayBorderColor}\n                    onMouseEnter={onMouseEnter}\n                    onMouseLeave={onMouseLeave}\n                    onMouseMove={onMouseMove}\n                    isInteractive={isInteractive}\n                    tooltip={tooltip}\n                    theme={theme}\n                    onClick={onClick}\n                    formatValue={formatValue}\n                />\n            ))}\n            {months.map(m => (\n                <CalendarMonthPath\n                    key={m.date.toString()}\n                    path={m.path}\n                    borderWidth={monthBorderWidth}\n                    borderColor={monthBorderColor}\n                />\n            ))}\n            <CalendarMonthLegends months={monthLegends} legend={monthLegend} theme={theme} />\n            <CalendarBlockLegends blocks={blockLegends} legend={blockLegend} theme={theme} />\n            {legends.map((legend, i) => {\n                const legendData = colorScale.ticks(legend.itemCount).map(value => ({\n                    id: value,\n                    label: formatLegend(value),\n                    color: colorScale(value),\n                }))\n\n                return (\n                    <BoxLegendSvg\n                        key={i}\n                        {...legend}\n                        containerWidth={width}\n                        containerHeight={height}\n                        data={legendData}\n                        theme={theme}\n                    />\n                )\n            })}\n        </SvgWrapper>\n    )\n}\n\nEnhancedCalendar.displayName = 'EnhancedCalendar'\nEnhancedCalendar.defaultProps = EnhancedCalendarDefaultProps\nEnhancedCalendar.propTypes = EnhancedCalendarPropTypes\n\nexport default withContainer(EnhancedCalendar)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { ResponsiveWrapper } from '@nivo/core'\nimport Calendar from './Calendar'\n\nconst ResponsiveCalendar = props => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <Calendar width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n\nexport default ResponsiveCalendar\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { ResponsiveWrapper } from '@nivo/core'\nimport EnhancedCalendar from './EnhancedCalendar'\n\nconst ResponsiveEnhancedCalendar = props => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <EnhancedCalendar width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n\nexport default ResponsiveEnhancedCalendar\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useRef, useState, useEffect, useCallback } from 'react'\nimport {\n    isCursorInRect,\n    getRelativeCursor,\n    degreesToRadians,\n    useDimensions,\n    useTheme,\n    withContainer,\n    useValueFormatter,\n} from '@nivo/core'\nimport { renderLegendToCanvas } from '@nivo/legends'\nimport { CalendarCanvasPropTypes, CalendarCanvasDefaultProps } from './props'\nimport { useCalendarLayout } from './hooks'\nimport { useMonthLegends, useBlockLegends, useDays, useColorScale } from './sharedHooks'\nimport { useTooltip } from '@nivo/tooltip'\n\nconst findDayUnderCursor = (event, canvasEl, days, size, dayBorderWidth, margin) => {\n    const [x, y] = getRelativeCursor(canvasEl, event)\n    return days.find(day => {\n        return (\n            day.value !== undefined &&\n            isCursorInRect(\n                day.x + margin.left - dayBorderWidth / 2,\n                day.y + margin.top - dayBorderWidth / 2,\n                size + dayBorderWidth,\n                size + dayBorderWidth,\n                x,\n                y\n            )\n        )\n    })\n}\n\nconst CalendarCanvas = memo(\n    ({\n        margin: partialMargin,\n        width,\n        height,\n        pixelRatio,\n\n        align,\n        colors,\n        colorScale,\n        data,\n        direction,\n        emptyColor,\n        from,\n        to,\n        minValue,\n        maxValue,\n        valueFormat,\n        legendFormat,\n\n        yearLegend,\n        yearLegendOffset,\n        yearLegendPosition,\n        yearSpacing,\n\n        monthLegend,\n        monthLegendOffset,\n        monthLegendPosition,\n        monthSpacing,\n\n        dayBorderColor,\n        dayBorderWidth,\n        daySpacing,\n\n        isInteractive,\n        tooltip,\n        onClick,\n        onMouseEnter,\n        onMouseLeave,\n        onMouseMove,\n\n        legends,\n    }) => {\n        const canvasEl = useRef(null)\n        const { innerWidth, innerHeight, outerWidth, outerHeight, margin } = useDimensions(\n            width,\n            height,\n            partialMargin\n        )\n        const { months, years, ...rest } = useCalendarLayout({\n            width: innerWidth,\n            height: innerHeight,\n            from,\n            to,\n            direction,\n            yearSpacing,\n            monthSpacing,\n            daySpacing,\n            align,\n        })\n        const colorScaleFn = useColorScale({ data, minValue, maxValue, colors, colorScale })\n        const monthLegends = useMonthLegends({\n            months,\n            direction,\n            monthLegendPosition,\n            monthLegendOffset,\n        })\n        const yearLegends = useBlockLegends({\n            blocks: years,\n            direction,\n            blockLegendPosition: yearLegendPosition,\n            blockLegendOffset: yearLegendOffset,\n        })\n        const days = useDays({ days: rest.days, data, colorScale: colorScaleFn, emptyColor })\n        const [currentDay, setCurrentDay] = useState(null)\n        const theme = useTheme()\n        const formatValue = useValueFormatter(valueFormat)\n        const formatLegend = useValueFormatter(legendFormat)\n\n        const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n        useEffect(() => {\n            canvasEl.current.width = outerWidth * pixelRatio\n            canvasEl.current.height = outerHeight * pixelRatio\n\n            const ctx = canvasEl.current.getContext('2d')\n\n            ctx.scale(pixelRatio, pixelRatio)\n\n            ctx.fillStyle = theme.background\n            ctx.fillRect(0, 0, outerWidth, outerHeight)\n            ctx.translate(margin.left, margin.top)\n\n            days.forEach(day => {\n                ctx.fillStyle = day.color\n                if (dayBorderWidth > 0) {\n                    ctx.strokeStyle = dayBorderColor\n                    ctx.lineWidth = dayBorderWidth\n                }\n\n                ctx.beginPath()\n                ctx.rect(day.x, day.y, day.size, day.size)\n                ctx.fill()\n\n                if (dayBorderWidth > 0) {\n                    ctx.stroke()\n                }\n            })\n\n            ctx.textAlign = 'center'\n            ctx.textBaseline = 'middle'\n            ctx.fillStyle = theme.labels.text.fill\n            ctx.font = `${theme.labels.text.fontSize}px ${theme.labels.text.fontFamily}`\n\n            monthLegends.forEach(month => {\n                ctx.save()\n                ctx.translate(month.x, month.y)\n                ctx.rotate(degreesToRadians(month.rotation))\n                ctx.fillText(monthLegend(month.year, month.month, month.date), 0, 0)\n                ctx.restore()\n            })\n\n            yearLegends.forEach(year => {\n                ctx.save()\n                ctx.translate(year.x, year.y)\n                ctx.rotate(degreesToRadians(year.rotation))\n                ctx.fillText(yearLegend(year.year), 0, 0)\n                ctx.restore()\n            })\n\n            legends.forEach(legend => {\n                const legendData = colorScaleFn.ticks(legend.itemCount).map(value => ({\n                    id: value,\n                    label: formatLegend(value),\n                    color: colorScaleFn(value),\n                }))\n\n                renderLegendToCanvas(ctx, {\n                    ...legend,\n                    data: legendData,\n                    containerWidth: innerWidth,\n                    containerHeight: innerHeight,\n                    theme,\n                })\n            })\n        }, [\n            canvasEl,\n            innerHeight,\n            innerWidth,\n            outerWidth,\n            outerHeight,\n            pixelRatio,\n            margin,\n            days,\n            dayBorderColor,\n            dayBorderWidth,\n            colorScale,\n            yearLegend,\n            yearLegends,\n            monthLegend,\n            monthLegends,\n            legends,\n            theme,\n            formatLegend,\n        ])\n\n        const handleMouseHover = useCallback(\n            event => {\n                const data = findDayUnderCursor(\n                    event,\n                    canvasEl.current,\n                    days,\n                    days[0].size,\n                    dayBorderWidth,\n                    margin\n                )\n\n                if (data) {\n                    setCurrentDay(data)\n                    const formatedData = {\n                        ...data,\n                        value: formatValue(data.value),\n                        data: { ...data.data },\n                    }\n                    showTooltipFromEvent(React.createElement(tooltip, { ...formatedData }), event)\n                    !currentDay && onMouseEnter && onMouseEnter(data, event)\n                    onMouseMove && onMouseMove(data, event)\n                    currentDay &&\n                        currentDay.id !== data.id &&\n                        onMouseLeave &&\n                        onMouseLeave(data, event)\n                } else {\n                    hideTooltip()\n                    onMouseLeave && onMouseLeave(data, event)\n                }\n            },\n            [\n                canvasEl,\n                margin,\n                days,\n                setCurrentDay,\n                formatValue,\n                daySpacing,\n                showTooltipFromEvent,\n                hideTooltip,\n                onMouseEnter,\n                onMouseMove,\n                onMouseLeave,\n            ]\n        )\n\n        const handleMouseLeave = useCallback(() => {\n            setCurrentDay(null)\n            hideTooltip()\n        }, [setCurrentDay, hideTooltip])\n\n        const handleClick = useCallback(\n            event => {\n                if (!onClick) return\n\n                const data = findDayUnderCursor(\n                    event,\n                    canvasEl.current,\n                    days,\n                    days[0].size,\n                    daySpacing,\n                    margin\n                )\n\n                data && onClick(data, event)\n            },\n            [canvasEl, daySpacing, margin, setCurrentDay, days, onClick]\n        )\n\n        return (\n            <canvas\n                ref={canvasEl}\n                width={outerWidth * pixelRatio}\n                height={outerHeight * pixelRatio}\n                style={{\n                    width: outerWidth,\n                    height: outerHeight,\n                }}\n                onMouseEnter={isInteractive ? handleMouseHover : undefined}\n                onMouseMove={isInteractive ? handleMouseHover : undefined}\n                onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n                onClick={isInteractive ? handleClick : undefined}\n            />\n        )\n    }\n)\n\nCalendarCanvas.displayName = 'CalendarCanvas'\nCalendarCanvas.defaultProps = CalendarCanvasDefaultProps\nCalendarCanvas.propTypes = CalendarCanvasPropTypes\n\nexport default withContainer(CalendarCanvas)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useRef, useState, useEffect, useCallback } from 'react'\nimport {\n    isCursorInRect,\n    getRelativeCursor,\n    degreesToRadians,\n    useDimensions,\n    useTheme,\n    withContainer,\n    useValueFormatter,\n} from '@nivo/core'\nimport { renderLegendToCanvas } from '@nivo/legends'\nimport { useCalendarLayout } from './enhancedHooks'\nimport { useMonthLegends, useBlockLegends, useDays, useColorScale } from './sharedHooks'\nimport { useTooltip } from '@nivo/tooltip'\nimport {\n    EnhancedCalendarCanvasDefaultProps,\n    EnhancedCalendarCanvasPropTypes,\n} from './enhancedProps'\n\nconst findDayUnderCursor = (event, canvasEl, days, size, dayBorderWidth, margin) => {\n    const [x, y] = getRelativeCursor(canvasEl, event)\n    return days.find(day => {\n        return (\n            day.value !== undefined &&\n            isCursorInRect(\n                day.x + margin.left - dayBorderWidth / 2,\n                day.y + margin.top - dayBorderWidth / 2,\n                size + dayBorderWidth,\n                size + dayBorderWidth,\n                x,\n                y\n            )\n        )\n    })\n}\n\nconst EnhancedCalendarCanvas = memo(\n    ({\n        margin: partialMargin,\n        width,\n        height,\n        pixelRatio,\n\n        align,\n        colors,\n        colorScale,\n        data,\n        direction,\n        emptyColor,\n        from,\n        to,\n        minValue,\n        maxValue,\n        valueFormat,\n        legendFormat,\n\n        blockLegend,\n        blockLegendOffset,\n        blockLegendPosition,\n        blockSpacing,\n\n        monthLegend,\n        monthLegendOffset,\n        monthLegendPosition,\n        monthSpacing,\n\n        dayBorderColor,\n        dayBorderWidth,\n        daySpacing,\n\n        granularity,\n        weekDirection,\n        breakpoint,\n\n        isInteractive,\n        tooltip,\n        onClick,\n        onMouseEnter,\n        onMouseLeave,\n        onMouseMove,\n\n        legends,\n    }) => {\n        const canvasEl = useRef(null)\n        const { innerWidth, innerHeight, outerWidth, outerHeight, margin } = useDimensions(\n            width,\n            height,\n            partialMargin\n        )\n        const { months, blocks, ...rest } = useCalendarLayout({\n            width: innerWidth,\n            height: innerHeight,\n            from,\n            to,\n            direction,\n            blockSpacing,\n            monthSpacing,\n            daySpacing,\n            align,\n            granularity,\n            weekDirection,\n            breakpoint,\n        })\n        const colorScaleFn = useColorScale({ data, minValue, maxValue, colors, colorScale })\n        const monthLegends = useMonthLegends({\n            months,\n            direction,\n            monthLegendPosition,\n            monthLegendOffset,\n        })\n        const blockLegends = useBlockLegends({\n            blocks,\n            direction,\n            blockLegendPosition,\n            blockLegendOffset,\n        })\n        const days = useDays({ days: rest.days, data, colorScale: colorScaleFn, emptyColor })\n        const [currentDay, setCurrentDay] = useState(null)\n        const theme = useTheme()\n        const formatValue = useValueFormatter(valueFormat)\n        const formatLegend = useValueFormatter(legendFormat)\n\n        const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n        useEffect(() => {\n            canvasEl.current.width = outerWidth * pixelRatio\n            canvasEl.current.height = outerHeight * pixelRatio\n\n            const ctx = canvasEl.current.getContext('2d')\n\n            ctx.scale(pixelRatio, pixelRatio)\n\n            ctx.fillStyle = theme.background\n            ctx.fillRect(0, 0, outerWidth, outerHeight)\n            ctx.translate(margin.left, margin.top)\n\n            days.forEach(day => {\n                ctx.fillStyle = day.color\n                if (dayBorderWidth > 0) {\n                    ctx.strokeStyle = dayBorderColor\n                    ctx.lineWidth = dayBorderWidth\n                }\n\n                ctx.beginPath()\n                ctx.rect(day.x, day.y, day.size, day.size)\n                ctx.fill()\n\n                if (dayBorderWidth > 0) {\n                    ctx.stroke()\n                }\n            })\n\n            ctx.textAlign = 'center'\n            ctx.textBaseline = 'middle'\n            ctx.fillStyle = theme.labels.text.fill\n            ctx.font = `${theme.labels.text.fontSize}px ${theme.labels.text.fontFamily}`\n\n            monthLegends.forEach(month => {\n                ctx.save()\n                ctx.translate(month.x, month.y)\n                ctx.rotate(degreesToRadians(month.rotation))\n                ctx.fillText(monthLegend(month.year, month.month, month.date), 0, 0)\n                ctx.restore()\n            })\n\n            blockLegends.forEach(block => {\n                ctx.save()\n                ctx.translate(block.x, block.y)\n                ctx.rotate(degreesToRadians(block.rotation))\n                ctx.fillText(blockLegend(block), 0, 0)\n                ctx.restore()\n            })\n\n            legends.forEach(legend => {\n                const legendData = colorScaleFn.ticks(legend.itemCount).map(value => ({\n                    id: value,\n                    label: formatLegend(value),\n                    color: colorScaleFn(value),\n                }))\n\n                renderLegendToCanvas(ctx, {\n                    ...legend,\n                    data: legendData,\n                    containerWidth: innerWidth,\n                    containerHeight: innerHeight,\n                    theme,\n                })\n            })\n        }, [\n            canvasEl,\n            innerHeight,\n            innerWidth,\n            outerWidth,\n            outerHeight,\n            pixelRatio,\n            margin,\n            days,\n            dayBorderColor,\n            dayBorderWidth,\n            colorScale,\n            blockLegend,\n            blockLegends,\n            monthLegend,\n            monthLegends,\n            legends,\n            theme,\n            formatLegend,\n        ])\n\n        const handleMouseHover = useCallback(\n            event => {\n                const data = findDayUnderCursor(\n                    event,\n                    canvasEl.current,\n                    days,\n                    days[0].size,\n                    dayBorderWidth,\n                    margin\n                )\n\n                if (data) {\n                    setCurrentDay(data)\n                    const formatedData = {\n                        ...data,\n                        value: formatValue(data.value),\n                        data: { ...data.data },\n                    }\n                    showTooltipFromEvent(React.createElement(tooltip, { ...formatedData }), event)\n                    !currentDay && onMouseEnter && onMouseEnter(data, event)\n                    onMouseMove && onMouseMove(data, event)\n                    currentDay &&\n                        currentDay.id !== data.id &&\n                        onMouseLeave &&\n                        onMouseLeave(data, event)\n                } else {\n                    hideTooltip()\n                    onMouseLeave && onMouseLeave(data, event)\n                }\n            },\n            [\n                canvasEl,\n                margin,\n                days,\n                setCurrentDay,\n                formatValue,\n                daySpacing,\n                showTooltipFromEvent,\n                hideTooltip,\n                onMouseEnter,\n                onMouseMove,\n                onMouseLeave,\n            ]\n        )\n\n        const handleMouseLeave = useCallback(() => {\n            setCurrentDay(null)\n            hideTooltip()\n        }, [setCurrentDay, hideTooltip])\n\n        const handleClick = useCallback(\n            event => {\n                if (!onClick) return\n\n                const data = findDayUnderCursor(\n                    event,\n                    canvasEl.current,\n                    days,\n                    days[0].size,\n                    daySpacing,\n                    margin\n                )\n\n                data && onClick(data, event)\n            },\n            [canvasEl, daySpacing, margin, setCurrentDay, days, onClick]\n        )\n\n        return (\n            <canvas\n                ref={canvasEl}\n                width={outerWidth * pixelRatio}\n                height={outerHeight * pixelRatio}\n                style={{\n                    width: outerWidth,\n                    height: outerHeight,\n                }}\n                onMouseEnter={isInteractive ? handleMouseHover : undefined}\n                onMouseMove={isInteractive ? handleMouseHover : undefined}\n                onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n                onClick={isInteractive ? handleClick : undefined}\n            />\n        )\n    }\n)\n\nEnhancedCalendarCanvas.displayName = 'EnhancedCalendarCanvas'\nEnhancedCalendarCanvas.defaultProps = EnhancedCalendarCanvasDefaultProps\nEnhancedCalendarCanvas.propTypes = EnhancedCalendarCanvasPropTypes\n\nexport default withContainer(EnhancedCalendarCanvas)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { ResponsiveWrapper } from '@nivo/core'\nimport CalendarCanvas from './CalendarCanvas'\n\nconst ResponsiveCalendarCanvas = props => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <CalendarCanvas width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n\nexport default ResponsiveCalendarCanvas\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { ResponsiveWrapper } from '@nivo/core'\nimport EnhancedCalendarCanvas from './EnhancedCalendarCanvas'\n\nconst ResponsiveEnhancedCalendarCanvas = props => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <EnhancedCalendarCanvas width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n\nexport default ResponsiveEnhancedCalendarCanvas\n"],"names":["objectWithoutPropertiesLoose","defineProperty","CalendarTooltip","memo","value","day","color","undefined","isNaN","React","BasicTooltip","displayName","monthLabelFormat","timeFormat","commonPropTypes","from","PropTypes","oneOfType","string","instanceOf","Date","isRequired","to","data","arrayOf","shape","number","align","oneOf","boxAlignments","minValue","maxValue","colors","colorScale","func","direction","emptyColor","yearLegend","yearSpacing","yearLegendPosition","yearLegendOffset","monthBorderWidth","monthBorderColor","monthLegend","monthSpacing","monthLegendPosition","monthLegendOffset","daySpacing","dayBorderWidth","dayBorderColor","isInteractive","bool","onClick","onMouseEnter","onMouseLeave","onMouseMove","tooltip","object","valueFormat","legendFormat","legends","LegendPropShape","itemCount","CalendarPropTypes","role","CalendarCanvasPropTypes","pixelRatio","commonDefaultProps","year","month","date","weekdayLegend","d","CalendarDefaultProps","CalendarCanvasDefaultProps","global","window","devicePixelRatio","CalendarYearLegends","years","legend","theme","map","x","y","rotation","labels","text","CalendarMonthPath","path","borderWidth","borderColor","fill","strokeWidth","stroke","pointerEvents","CalendarMonthLegends","months","toString","arrayLikeToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","arrayWithoutHoles","iterableToArray","nonIterableSpread","computeCellSize","width","height","yearRange","maxWeeks","hCellSize","vCellSize","length","Math","min","monthPathAndBBox","cellSize","yearIndex","originX","originY","t1","getFullYear","getMonth","firstWeek","timeWeek","count","timeYear","lastWeek","firstDay","getDay","lastDay","xO","yO","yearOffset","monthOffset","bbox","join","memoMonthPathAndBBox","memoize","cellPositionHorizontal","weekOfYear","cellPositionVertical","dayFormat","computeLayout","fromDate","isDate","toDate","range","max","timeWeeks","monthsSize","yearsSize","calendarWidth","calendarHeight","alignBox","cellPosition","days","forEach","i","yearStart","yearEnd","concat","timeDays","dayDate","size","yearMonths","timeMonths","monthDate","push","useCalendarLayout","useMemo","computeDomain","minSpec","maxSpec","allValues","computeMonthLegendPositions","position","offset","bindDaysData","dayData","computeBlockLegendPositions","blocks","block","useColorScale","domain","defaultColorScale","scaleQuantize","useBlockLegends","blockLegendPosition","blockLegendOffset","useDays","useMonthLegends","CalendarDay","formatValue","useTooltip","showTooltipFromEvent","hideTooltip","handleMouseEnter","useCallback","event","formatedData","createElement","handleMouseMove","handleMouseLeave","handleClick","Calendar","partialMargin","margin","useTheme","useDimensions","innerWidth","innerHeight","outerWidth","outerHeight","rest","colorScaleFn","monthLegends","yearLegends","formatLegend","useValueFormatter","SvgWrapper","m","legendData","ticks","id","label","BoxLegendSvg","defaultProps","withContainer","CalendarBlockLegends","String","firstYear","firstMonth","lastYear","lastMonth","blockSpacing","maxRowsMonth","maxColumnsGroup","monthsPerGroup","blockIndex","startDate","weekDirection","elapsedMonths","getElapsedMonths","getA","weekOfMonth","getWeekOfTheMonth","getB","getC","getD","elapsedWeeks","firstWeekday","offsetDate","getDate","floor","cellPositionHorizontalVertical","cellPositionVerticalHorizontal","cellPositionVerticalVertical","cellPositionHorizontalHorizontal","granularity","breakpoint","dates","arr","splice","begin","end","aux","getTime","weekDay","setMonth","pair","blockMonths","filteredPropTypes","enhancedCommonPropTypes","blockLegend","EnhancedCalendarPropTypes","EnhancedCalendarCanvasPropTypes","yearSpacingDefault","yearLegendDefault","yearLegendPositionDefault","yearLegendOffsetDefault","filteredDefaultProps","enhancedCommonDefaultProps","EnhancedCalendarDefaultProps","EnhancedCalendarCanvasDefaultProps","EnhancedCalendar","blockLegends","ResponsiveCalendar","props","ResponsiveWrapper","ResponsiveEnhancedCalendar","findDayUnderCursor","canvasEl","getRelativeCursor","find","isCursorInRect","left","top","CalendarCanvas","useRef","useState","currentDay","setCurrentDay","useEffect","current","ctx","getContext","scale","fillStyle","background","fillRect","translate","strokeStyle","lineWidth","beginPath","rect","textAlign","textBaseline","font","fontSize","fontFamily","save","rotate","degreesToRadians","fillText","restore","renderLegendToCanvas","containerWidth","containerHeight","handleMouseHover","EnhancedCalendarCanvas","ResponsiveCalendarCanvas","ResponsiveEnhancedCalendarCanvas"],"mappings":"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"}
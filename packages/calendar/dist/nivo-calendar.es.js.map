{"version":3,"file":"nivo-calendar.es.js","sources":["../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../src/CalendarTooltip.js","../src/props.js","../src/CalendarYearLegends.js","../src/CalendarMonthPath.js","../src/CalendarMonthLegends.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../src/compute.js","../src/hooks.js","../src/sharedCompute.js","../src/sharedHooks.js","../src/CalendarDay.js","../src/Calendar.js","../src/CalendarBlockLegends.js","../src/enhancedCompute.js","../src/enhancedHooks.js","../src/enhancedProps.js","../src/EnhancedCalendar.js","../src/ResponsiveCalendar.js","../src/ResponsiveEnhancedCalendar.js","../src/CalendarCanvas.js","../src/EnhancedCalendarCanvas.js","../src/ResponsiveCalendarCanvas.js","../src/ResponsiveEnhancedCalendarCanvas.js"],"sourcesContent":["export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { BasicTooltip } from '@nivo/tooltip'\n\nconst CalendarTooltip = memo(({ value, day, color }) => {\n    if (value === undefined || isNaN(value)) return null\n    return <BasicTooltip id={day} value={value} color={color} enableChip={true} />\n})\n\nCalendarTooltip.displayName = 'CalendarTooltip'\nCalendarTooltip.propTypes = {\n    value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    day: PropTypes.string,\n    color: PropTypes.string,\n}\n\nexport default CalendarTooltip\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\nimport { timeFormat } from 'd3-time-format'\nimport { boxAlignments } from '@nivo/core'\nimport { LegendPropShape } from '@nivo/legends'\nimport CalendarTooltip from './CalendarTooltip'\n\nconst monthLabelFormat = timeFormat('%b')\n\nconst commonPropTypes = {\n    from: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n    to: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n    data: PropTypes.arrayOf(\n        PropTypes.shape({\n            day: PropTypes.string.isRequired,\n            value: PropTypes.number.isRequired,\n        })\n    ).isRequired,\n\n    align: PropTypes.oneOf(boxAlignments).isRequired,\n\n    minValue: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]).isRequired,\n    maxValue: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]).isRequired,\n\n    colors: PropTypes.arrayOf(PropTypes.string).isRequired,\n    colorScale: PropTypes.func,\n\n    direction: PropTypes.oneOf(['horizontal', 'vertical']),\n    emptyColor: PropTypes.string.isRequired,\n\n    yearLegend: PropTypes.func.isRequired,\n    yearSpacing: PropTypes.number.isRequired,\n    yearLegendPosition: PropTypes.oneOf(['before', 'after']).isRequired,\n    yearLegendOffset: PropTypes.number.isRequired,\n\n    monthBorderWidth: PropTypes.number.isRequired,\n    monthBorderColor: PropTypes.string.isRequired,\n    monthLegend: PropTypes.func.isRequired,\n    monthSpacing: PropTypes.number.isRequired,\n    monthLegendPosition: PropTypes.oneOf(['before', 'after']).isRequired,\n    monthLegendOffset: PropTypes.number.isRequired,\n\n    daySpacing: PropTypes.number.isRequired,\n    dayBorderWidth: PropTypes.number.isRequired,\n    dayBorderColor: PropTypes.string.isRequired,\n\n    isInteractive: PropTypes.bool,\n    onClick: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n    valueFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n    legendFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n    legends: PropTypes.arrayOf(\n        PropTypes.shape({\n            ...LegendPropShape,\n            itemCount: PropTypes.number.isRequired,\n        })\n    ).isRequired,\n}\n\nexport const CalendarPropTypes = {\n    ...commonPropTypes,\n    role: PropTypes.string.isRequired,\n}\n\nexport const CalendarCanvasPropTypes = {\n    ...commonPropTypes,\n    pixelRatio: PropTypes.number.isRequired,\n}\n\nconst commonDefaultProps = {\n    colors: ['#61cdbb', '#97e3d5', '#e8c1a0', '#f47560'],\n\n    align: 'center',\n    direction: 'horizontal',\n    emptyColor: '#fff',\n\n    minValue: 0,\n    maxValue: 'auto',\n\n    yearSpacing: 30,\n    yearLegend: year => year,\n    yearLegendPosition: 'before',\n    yearLegendOffset: 10,\n\n    monthBorderWidth: 2,\n    monthBorderColor: '#000',\n    monthSpacing: 0,\n    monthLegend: (year, month, date) => monthLabelFormat(date),\n    monthLegendPosition: 'before',\n    monthLegendOffset: 10,\n\n    weekdayLegend: d => d,\n    daySpacing: 0,\n    dayBorderWidth: 1,\n    dayBorderColor: '#000',\n\n    isInteractive: true,\n\n    legends: [],\n    tooltip: CalendarTooltip,\n}\n\nexport const CalendarDefaultProps = {\n    ...commonDefaultProps,\n    role: 'img',\n}\n\nexport const CalendarCanvasDefaultProps = {\n    ...commonDefaultProps,\n    pixelRatio:\n        global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1,\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\n\nconst CalendarYearLegends = memo(({ years, legend, theme }) => {\n    return (\n        <>\n            {years.map(year => {\n                return (\n                    <text\n                        key={year.year}\n                        transform={`translate(${year.x},${year.y}) rotate(${year.rotation})`}\n                        textAnchor=\"middle\"\n                        style={theme.labels.text}\n                    >\n                        {legend(year.year)}\n                    </text>\n                )\n            })}\n        </>\n    )\n})\n\nCalendarYearLegends.propTypes = {\n    years: PropTypes.array.isRequired,\n    legend: PropTypes.func.isRequired,\n    theme: PropTypes.object.isRequired,\n}\n\nCalendarYearLegends.displayName = 'CalendarYearLegends'\n\nexport default CalendarYearLegends\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\n\nconst CalendarMonthPath = memo(({ path, borderWidth, borderColor }) => {\n    return (\n        <path\n            d={path}\n            style={{\n                fill: 'none',\n                strokeWidth: borderWidth,\n                stroke: borderColor,\n                pointerEvents: 'none',\n            }}\n        />\n    )\n})\n\nCalendarMonthPath.propTypes = {\n    path: PropTypes.string.isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    borderColor: PropTypes.string.isRequired,\n}\n\nCalendarMonthPath.displayName = 'CalendarMonthPath'\n\nexport default CalendarMonthPath\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\n\nconst CalendarMonthLegends = memo(({ months, legend, theme }) => {\n    return (\n        <>\n            {months.map(month => {\n                return (\n                    <text\n                        key={`${month.date.toString()}.legend`}\n                        transform={`translate(${month.x},${month.y}) rotate(${month.rotation})`}\n                        textAnchor=\"middle\"\n                        style={theme.labels.text}\n                    >\n                        {legend(month.year, month.month, month.date)}\n                    </text>\n                )\n            })}\n        </>\n    )\n})\n\nCalendarMonthLegends.propTypes = {\n    months: PropTypes.array.isRequired,\n    legend: PropTypes.func.isRequired,\n    theme: PropTypes.object.isRequired,\n}\n\nCalendarMonthLegends.displayName = 'CalendarMonthLegends'\n\nexport default CalendarMonthLegends\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport memoize from 'lodash.memoize'\nimport isDate from 'lodash.isdate'\nimport range from 'lodash.range'\nimport { alignBox } from '@nivo/core'\nimport { timeFormat } from 'd3-time-format'\nimport { timeDays, timeWeek, timeWeeks, timeMonths, timeYear } from 'd3-time'\n\n/**\n * Compute day cell size according to current context.\n *\n * @param {number} width\n * @param {number} height\n * @param {number} direction\n * @param {array}  yearRange\n * @param {number} yearSpacing\n * @param {number} monthSpacing\n * @param {number} daySpacing\n * @param {number} maxWeeks\n * @returns {number}\n */\nconst computeCellSize = ({\n    width,\n    height,\n    direction,\n    yearRange,\n    yearSpacing,\n    monthSpacing,\n    daySpacing,\n    maxWeeks,\n}) => {\n    let hCellSize\n    let vCellSize\n\n    if (direction === 'horizontal') {\n        hCellSize = (width - monthSpacing * 12 - daySpacing * maxWeeks) / maxWeeks\n        vCellSize =\n            (height - (yearRange.length - 1) * yearSpacing - yearRange.length * (8 * daySpacing)) /\n            (yearRange.length * 7)\n    } else {\n        hCellSize =\n            (width - (yearRange.length - 1) * yearSpacing - yearRange.length * (8 * daySpacing)) /\n            (yearRange.length * 7)\n        vCellSize = (height - monthSpacing * 12 - daySpacing * maxWeeks) / maxWeeks\n    }\n\n    return Math.min(hCellSize, vCellSize)\n}\n\n/**\n * Computes month path and bounding box.\n *\n * @param {Date}   date\n * @param {number} cellSize\n * @param {number} yearIndex\n * @param {number} yearSpacing\n * @param {number} monthSpacing\n * @param {number} daySpacing\n * @param {string} direction\n * @param {number} originX\n * @param {number} originY\n * @returns { { path: string, bbox: { x: number, y: number, width: number, height: number } } }\n */\nconst monthPathAndBBox = ({\n    date,\n    cellSize,\n    yearIndex,\n    yearSpacing,\n    monthSpacing,\n    daySpacing,\n    direction,\n    originX,\n    originY,\n}) => {\n    // first day of next month\n    const t1 = new Date(date.getFullYear(), date.getMonth() + 1, 0)\n\n    // ranges\n    const firstWeek = timeWeek.count(timeYear(date), date)\n    const lastWeek = timeWeek.count(timeYear(t1), t1)\n    const firstDay = date.getDay()\n    const lastDay = t1.getDay()\n\n    // offset according to year index and month\n    let xO = originX\n    let yO = originY\n    const yearOffset = yearIndex * (7 * (cellSize + daySpacing) + yearSpacing)\n    const monthOffset = date.getMonth() * monthSpacing\n    if (direction === 'horizontal') {\n        yO += yearOffset\n        xO += monthOffset\n    } else {\n        yO += monthOffset\n        xO += yearOffset\n    }\n\n    let path\n    let bbox = { x: xO, y: yO, width: 0, height: 0 }\n    if (direction === 'horizontal') {\n        path = [\n            `M${xO + (firstWeek + 1) * (cellSize + daySpacing)},${\n                yO + firstDay * (cellSize + daySpacing)\n            }`,\n            `H${xO + firstWeek * (cellSize + daySpacing)}V${yO + 7 * (cellSize + daySpacing)}`,\n            `H${xO + lastWeek * (cellSize + daySpacing)}V${\n                yO + (lastDay + 1) * (cellSize + daySpacing)\n            }`,\n            `H${xO + (lastWeek + 1) * (cellSize + daySpacing)}V${yO}`,\n            `H${xO + (firstWeek + 1) * (cellSize + daySpacing)}Z`,\n        ].join('')\n\n        bbox.x = xO + firstWeek * (cellSize + daySpacing)\n        bbox.width = xO + (lastWeek + 1) * (cellSize + daySpacing) - bbox.x\n        bbox.height = 7 * (cellSize + daySpacing)\n    } else {\n        path = [\n            `M${xO + firstDay * (cellSize + daySpacing)},${\n                yO + (firstWeek + 1) * (cellSize + daySpacing)\n            }`,\n            `H${xO}V${yO + (lastWeek + 1) * (cellSize + daySpacing)}`,\n            `H${xO + (lastDay + 1) * (cellSize + daySpacing)}V${\n                yO + lastWeek * (cellSize + daySpacing)\n            }`,\n            `H${xO + 7 * (cellSize + daySpacing)}V${yO + firstWeek * (cellSize + daySpacing)}`,\n            `H${xO + firstDay * (cellSize + daySpacing)}Z`,\n        ].join('')\n\n        bbox.y = yO + firstWeek * (cellSize + daySpacing)\n        bbox.width = 7 * (cellSize + daySpacing)\n        bbox.height = yO + (lastWeek + 1) * (cellSize + daySpacing) - bbox.y\n    }\n\n    return { path, bbox }\n}\n\n/**\n * Creates a memoized version of monthPathAndBBox function.\n */\nconst memoMonthPathAndBBox = memoize(\n    monthPathAndBBox,\n    ({\n        date,\n        cellSize,\n        yearIndex,\n        yearSpacing,\n        monthSpacing,\n        daySpacing,\n        direction,\n        originX,\n        originY,\n    }) => {\n        return `${date.toString()}.${cellSize}.${yearIndex}.${yearSpacing}.${monthSpacing}.${daySpacing}.${direction}.${originX}.${originY}`\n    }\n)\n\n/**\n * Returns a function to Compute day cell position for horizontal layout.\n *\n * @param {number} cellSize\n * @param {number} yearSpacing\n * @param {number} monthSpacing\n * @param {number} daySpacing\n * @returns { function(): { x: number, y: number } }\n */\nconst cellPositionHorizontal = (cellSize, yearSpacing, monthSpacing, daySpacing) => {\n    return (originX, originY, d, yearIndex) => {\n        const weekOfYear = timeWeek.count(timeYear(d), d)\n\n        return {\n            x:\n                originX +\n                weekOfYear * (cellSize + daySpacing) +\n                daySpacing / 2 +\n                d.getMonth() * monthSpacing,\n            y:\n                originY +\n                d.getDay() * (cellSize + daySpacing) +\n                daySpacing / 2 +\n                yearIndex * (yearSpacing + 7 * (cellSize + daySpacing)),\n        }\n    }\n}\n\n/**\n * Returns a function to Compute day cell position for vertical layout.\n *\n * @param {number} cellSize\n * @param {number} yearSpacing\n * @param {number} monthSpacing\n * @param {number} daySpacing\n * @returns { function(): { x: number, y: number } }\n */\nconst cellPositionVertical = (cellSize, yearSpacing, monthSpacing, daySpacing) => {\n    return (originX, originY, d, yearIndex) => {\n        const weekOfYear = timeWeek.count(timeYear(d), d)\n\n        return {\n            x:\n                originX +\n                d.getDay() * (cellSize + daySpacing) +\n                daySpacing / 2 +\n                yearIndex * (yearSpacing + 7 * (cellSize + daySpacing)),\n            y:\n                originY +\n                weekOfYear * (cellSize + daySpacing) +\n                daySpacing / 2 +\n                d.getMonth() * monthSpacing,\n        }\n    }\n}\n\n// used for days range and data matching\nconst dayFormat = timeFormat('%Y-%m-%d')\n\n/**\n * Compute base layout, without caring about the current data.\n *\n * @param {number}      width\n * @param {number}      height\n * @param {string|Date} from\n * @param {string|Date} to\n * @param {string}      direction\n * @param {number}      yearSpacing\n * @param {number}      monthSpacing\n * @param {number}      daySpacing\n * @param {string}      align\n * @returns {object}\n */\nexport const computeLayout = ({\n    width,\n    height,\n    from,\n    to,\n    direction,\n    yearSpacing,\n    monthSpacing,\n    daySpacing,\n    align,\n}) => {\n    const fromDate = isDate(from) ? from : new Date(from)\n    const toDate = isDate(to) ? to : new Date(to)\n\n    let yearRange = range(fromDate.getFullYear(), toDate.getFullYear() + 1)\n    const maxWeeks =\n        Math.max(\n            ...yearRange.map(\n                year => timeWeeks(new Date(year, 0, 1), new Date(year + 1, 0, 1)).length\n            )\n        ) + 1\n\n    const cellSize = computeCellSize({\n        width,\n        height,\n        direction,\n        yearRange,\n        yearSpacing,\n        monthSpacing,\n        daySpacing,\n        maxWeeks,\n    })\n\n    const monthsSize = cellSize * maxWeeks + daySpacing * maxWeeks + monthSpacing * 12\n    const yearsSize =\n        (cellSize + daySpacing) * 7 * yearRange.length + yearSpacing * (yearRange.length - 1)\n\n    const calendarWidth = direction === 'horizontal' ? monthsSize : yearsSize\n    const calendarHeight = direction === 'horizontal' ? yearsSize : monthsSize\n    const [originX, originY] = alignBox(\n        {\n            x: 0,\n            y: 0,\n            width: calendarWidth,\n            height: calendarHeight,\n        },\n        {\n            x: 0,\n            y: 0,\n            width,\n            height,\n        },\n        align\n    )\n\n    let cellPosition\n    if (direction === 'horizontal') {\n        cellPosition = cellPositionHorizontal(cellSize, yearSpacing, monthSpacing, daySpacing)\n    } else {\n        cellPosition = cellPositionVertical(cellSize, yearSpacing, monthSpacing, daySpacing)\n    }\n\n    let years = []\n    let months = []\n    let days = []\n\n    yearRange.forEach((year, i) => {\n        const yearStart = new Date(year, 0, 1)\n        const yearEnd = new Date(year + 1, 0, 1)\n\n        days = days.concat(\n            timeDays(yearStart, yearEnd).map(dayDate => {\n                return {\n                    date: dayDate,\n                    day: dayFormat(dayDate),\n                    size: cellSize,\n                    ...cellPosition(originX, originY, dayDate, i),\n                }\n            })\n        )\n\n        const yearMonths = timeMonths(yearStart, yearEnd).map(monthDate => ({\n            date: monthDate,\n            year: monthDate.getFullYear(),\n            month: monthDate.getMonth(),\n            ...memoMonthPathAndBBox({\n                originX,\n                originY,\n                date: monthDate,\n                direction,\n                yearIndex: i,\n                yearSpacing,\n                monthSpacing,\n                daySpacing,\n                cellSize,\n            }),\n        }))\n\n        months = months.concat(yearMonths)\n\n        years.push({\n            year,\n            bbox: {\n                x: yearMonths[0].bbox.x,\n                y: yearMonths[0].bbox.y,\n                width: yearMonths[11].bbox.x - yearMonths[0].bbox.x + yearMonths[11].bbox.width,\n                height: yearMonths[11].bbox.y - yearMonths[0].bbox.y + yearMonths[11].bbox.height,\n            },\n        })\n    })\n\n    return { years, months, days, cellSize, calendarWidth, calendarHeight, originX, originY }\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { useMemo } from 'react'\nimport { computeLayout } from './compute'\n\nexport const useCalendarLayout = ({\n    width,\n    height,\n    from,\n    to,\n    direction,\n    yearSpacing,\n    monthSpacing,\n    daySpacing,\n    align,\n}) =>\n    useMemo(\n        () =>\n            computeLayout({\n                width,\n                height,\n                from,\n                to,\n                direction,\n                yearSpacing,\n                monthSpacing,\n                daySpacing,\n                align,\n            }),\n        [width, height, from, to, direction, yearSpacing, monthSpacing, daySpacing, align]\n    )\n","/**\n * Compute min/max values.\n *\n * @param {Array<>}       data\n * @param {number|'auto'} minSpec - Define the strategy to use to compute min value, if number, it will be used, if 'auto', will use the lower value from the dataset\n * @param {number|'auto'} maxSpec - Define the strategy to use to compute max value, if number, it will be used, if 'auto', will use the higher value from the dataset\n * @return {[number, string]}\n */\nexport const computeDomain = (data, minSpec, maxSpec) => {\n    const allValues = data.map(d => d.value)\n    const minValue = minSpec === 'auto' ? Math.min(...allValues) : minSpec\n    const maxValue = maxSpec === 'auto' ? Math.max(...allValues) : maxSpec\n\n    return [minValue, maxValue]\n}\n\nexport const computeMonthLegendPositions = ({ months, direction, position, offset }) => {\n    return months.map(month => {\n        let x = 0\n        let y = 0\n        let rotation = 0\n        if (direction === 'horizontal' && position === 'before') {\n            x = month.bbox.x + month.bbox.width / 2\n            y = month.bbox.y - offset\n        } else if (direction === 'horizontal' && position === 'after') {\n            x = month.bbox.x + month.bbox.width / 2\n            y = month.bbox.y + month.bbox.height + offset\n        } else if (direction === 'vertical' && position === 'before') {\n            x = month.bbox.x - offset\n            y = month.bbox.y + month.bbox.height / 2\n            rotation = -90\n        } else {\n            x = month.bbox.x + month.bbox.width + offset\n            y = month.bbox.y + month.bbox.height / 2\n            rotation = -90\n        }\n\n        return {\n            ...month,\n            x,\n            y,\n            rotation,\n        }\n    })\n}\n\n/**\n * Bind current data to computed day cells.\n *\n * @param {array}  days\n * @param {array}  data\n * @param {object} colorScale\n * @param {string} emptyColor\n * @returns {Array}\n */\nexport const bindDaysData = ({ days, data, colorScale, emptyColor }) => {\n    return days.map(day => {\n        day.color = emptyColor\n        data.forEach(dayData => {\n            if (dayData.day === day.day) {\n                day.value = dayData.value\n                day.color = colorScale(dayData.value)\n                day.data = dayData\n            }\n        })\n        return day\n    })\n}\n\nexport const computeBlockLegendPositions = ({ blocks, direction, position, offset }) => {\n    return blocks.map(block => {\n        let x = 0\n        let y = 0\n        let rotation = 0\n        if (direction === 'horizontal' && position === 'before') {\n            x = block.bbox.x - offset\n            y = block.bbox.y + block.bbox.height / 2\n            rotation = -90\n        } else if (direction === 'horizontal' && position === 'after') {\n            x = block.bbox.x + block.bbox.width + offset\n            y = block.bbox.y + block.bbox.height / 2\n            rotation = -90\n        } else if (direction === 'vertical' && position === 'before') {\n            x = block.bbox.x + block.bbox.width / 2\n            y = block.bbox.y - offset\n        } else {\n            x = block.bbox.x + block.bbox.width / 2\n            y = block.bbox.y + block.bbox.height + offset\n        }\n\n        return {\n            ...block,\n            x,\n            y,\n            rotation,\n        }\n    })\n}\n","import {\n    computeDomain,\n    computeBlockLegendPositions,\n    bindDaysData,\n    computeMonthLegendPositions,\n} from './sharedCompute'\nimport { useMemo } from 'react'\nimport { scaleQuantize } from 'd3-scale'\n\nexport const useColorScale = ({ data, minValue, maxValue, colors, colorScale }) =>\n    useMemo(() => {\n        if (colorScale) return colorScale\n        const domain = computeDomain(data, minValue, maxValue)\n        const defaultColorScale = scaleQuantize().domain(domain).range(colors)\n        return defaultColorScale\n    }, [data, minValue, maxValue, colors, colorScale])\n\nexport const useBlockLegends = ({ blocks, direction, blockLegendPosition, blockLegendOffset }) =>\n    useMemo(\n        () =>\n            computeBlockLegendPositions({\n                blocks,\n                direction,\n                position: blockLegendPosition,\n                offset: blockLegendOffset,\n            }),\n        [blocks, direction, blockLegendPosition, blockLegendOffset]\n    )\n\nexport const useDays = ({ days, data, colorScale, emptyColor }) =>\n    useMemo(\n        () =>\n            bindDaysData({\n                days,\n                data,\n                colorScale,\n                emptyColor,\n            }),\n        [days, data, colorScale, emptyColor]\n    )\n\nexport const useMonthLegends = ({ months, direction, monthLegendPosition, monthLegendOffset }) =>\n    useMemo(\n        () =>\n            computeMonthLegendPositions({\n                months,\n                direction,\n                position: monthLegendPosition,\n                offset: monthLegendOffset,\n            }),\n        [months, direction, monthLegendPosition, monthLegendOffset]\n    )\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { useTooltip } from '@nivo/tooltip'\n\nconst CalendarDay = memo(\n    ({\n        data,\n        x,\n        y,\n        size,\n        color,\n        borderWidth,\n        borderColor,\n        isInteractive,\n        tooltip,\n        onMouseEnter,\n        onMouseMove,\n        onMouseLeave,\n        onClick,\n        formatValue,\n    }) => {\n        const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n        const handleMouseEnter = useCallback(\n            event => {\n                const formatedData = {\n                    ...data,\n                    value: formatValue(data.value),\n                    data: { ...data.data },\n                }\n                showTooltipFromEvent(React.createElement(tooltip, { ...formatedData }), event)\n                onMouseEnter && onMouseEnter(data, event)\n            },\n            [showTooltipFromEvent, tooltip, data, onMouseEnter, formatValue]\n        )\n        const handleMouseMove = useCallback(\n            event => {\n                const formatedData = {\n                    ...data,\n                    value: formatValue(data.value),\n                    data: { ...data.data },\n                }\n                showTooltipFromEvent(React.createElement(tooltip, { ...formatedData }), event)\n                onMouseMove && onMouseMove(data, event)\n            },\n            [showTooltipFromEvent, tooltip, data, onMouseMove, formatValue]\n        )\n        const handleMouseLeave = useCallback(\n            event => {\n                hideTooltip()\n                onMouseLeave && onMouseLeave(data, event)\n            },\n            [hideTooltip, data, onMouseLeave]\n        )\n        const handleClick = useCallback(event => onClick && onClick(data, event), [data, onClick])\n\n        return (\n            <rect\n                x={x}\n                y={y}\n                width={size}\n                height={size}\n                style={{\n                    fill: color,\n                    strokeWidth: borderWidth,\n                    stroke: borderColor,\n                }}\n                onMouseEnter={isInteractive ? handleMouseEnter : undefined}\n                onMouseMove={isInteractive ? handleMouseMove : undefined}\n                onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n                onClick={isInteractive ? handleClick : undefined}\n            />\n        )\n    }\n)\n\nCalendarDay.displayName = 'CalendarDay'\nCalendarDay.propTypes = {\n    onClick: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    data: PropTypes.object.isRequired,\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    size: PropTypes.number.isRequired,\n    spacing: PropTypes.number.isRequired,\n    color: PropTypes.string.isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    borderColor: PropTypes.string.isRequired,\n    isInteractive: PropTypes.bool.isRequired,\n    formatValue: PropTypes.func,\n\n    tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n\n    theme: PropTypes.shape({\n        tooltip: PropTypes.shape({}).isRequired,\n    }).isRequired,\n}\n\nexport default CalendarDay\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { SvgWrapper, useTheme, useDimensions, withContainer, useValueFormatter } from '@nivo/core'\nimport { BoxLegendSvg } from '@nivo/legends'\nimport { CalendarPropTypes, CalendarDefaultProps } from './props'\nimport CalendarYearLegends from './CalendarYearLegends'\nimport CalendarMonthPath from './CalendarMonthPath'\nimport CalendarMonthLegends from './CalendarMonthLegends'\nimport { useCalendarLayout } from './hooks'\nimport { useMonthLegends, useBlockLegends, useDays, useColorScale } from './sharedHooks'\nimport CalendarDay from './CalendarDay'\n\nconst Calendar = ({\n    margin: partialMargin,\n    width,\n    height,\n\n    align,\n    colors,\n    colorScale,\n    data,\n    direction,\n    emptyColor,\n    from,\n    to,\n    minValue,\n    maxValue,\n    valueFormat,\n    legendFormat,\n\n    yearLegend,\n    yearLegendOffset,\n    yearLegendPosition,\n    yearSpacing,\n\n    monthBorderColor,\n    monthBorderWidth,\n    monthLegend,\n    monthLegendOffset,\n    monthLegendPosition,\n    monthSpacing,\n\n    dayBorderColor,\n    dayBorderWidth,\n    daySpacing,\n\n    isInteractive,\n    tooltip,\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n    onMouseMove,\n\n    legends,\n    role,\n}) => {\n    const theme = useTheme()\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n    const { months, years, ...rest } = useCalendarLayout({\n        width: innerWidth,\n        height: innerHeight,\n        from,\n        to,\n        direction,\n        yearSpacing,\n        monthSpacing,\n        daySpacing,\n        align,\n    })\n    const colorScaleFn = useColorScale({ data, minValue, maxValue, colors, colorScale })\n    const monthLegends = useMonthLegends({\n        months,\n        direction,\n        monthLegendPosition,\n        monthLegendOffset,\n    })\n    const yearLegends = useBlockLegends({\n        blocks: years,\n        direction,\n        blockLegendPosition: yearLegendPosition,\n        blockLegendOffset: yearLegendOffset,\n    })\n    const days = useDays({ days: rest.days, data, colorScale: colorScaleFn, emptyColor })\n    const formatLegend = useValueFormatter(legendFormat)\n    const formatValue = useValueFormatter(valueFormat)\n\n    return (\n        <SvgWrapper\n            width={outerWidth}\n            height={outerHeight}\n            margin={margin}\n            theme={theme}\n            role={role}\n        >\n            {days.map(d => (\n                <CalendarDay\n                    key={d.date.toString()}\n                    data={d}\n                    x={d.x}\n                    y={d.y}\n                    size={d.size}\n                    spacing={daySpacing}\n                    color={d.color}\n                    borderWidth={dayBorderWidth}\n                    borderColor={dayBorderColor}\n                    onMouseEnter={onMouseEnter}\n                    onMouseLeave={onMouseLeave}\n                    onMouseMove={onMouseMove}\n                    isInteractive={isInteractive}\n                    tooltip={tooltip}\n                    theme={theme}\n                    onClick={onClick}\n                    formatValue={formatValue}\n                />\n            ))}\n            {months.map(m => (\n                <CalendarMonthPath\n                    key={m.date.toString()}\n                    path={m.path}\n                    borderWidth={monthBorderWidth}\n                    borderColor={monthBorderColor}\n                />\n            ))}\n            <CalendarMonthLegends months={monthLegends} legend={monthLegend} theme={theme} />\n            <CalendarYearLegends years={yearLegends} legend={yearLegend} theme={theme} />\n            {legends.map((legend, i) => {\n                const legendData = colorScaleFn.ticks(legend.itemCount).map(value => ({\n                    id: value,\n                    label: formatLegend(value),\n                    color: colorScaleFn(value),\n                }))\n\n                return (\n                    <BoxLegendSvg\n                        key={i}\n                        {...legend}\n                        containerWidth={width}\n                        containerHeight={height}\n                        data={legendData}\n                        theme={theme}\n                    />\n                )\n            })}\n        </SvgWrapper>\n    )\n}\n\nCalendar.displayName = 'Calendar'\nCalendar.defaultProps = CalendarDefaultProps\nCalendar.propTypes = CalendarPropTypes\n\nexport default withContainer(Calendar)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\n\nconst CalendarBlockLegends = memo(({ blocks, legend, theme }) => {\n    return (\n        <>\n            {blocks.map(block => {\n                return (\n                    <text\n                        key={\n                            String(block.firstYear) +\n                            String(block.firstMonth) +\n                            String(block.lastYear) +\n                            String(block.lastMonth)\n                        }\n                        transform={`translate(${block.x},${block.y}) rotate(${block.rotation})`}\n                        textAnchor=\"middle\"\n                        style={theme.labels.text}\n                    >\n                        {legend(block)}\n                    </text>\n                )\n            })}\n        </>\n    )\n})\n\nCalendarBlockLegends.propTypes = {\n    blocks: PropTypes.array.isRequired,\n    legend: PropTypes.func.isRequired,\n    theme: PropTypes.object.isRequired,\n}\n\nCalendarBlockLegends.displayName = 'CalendarBlockLegends'\n\nexport default CalendarBlockLegends\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport memoize from 'lodash.memoize'\nimport isDate from 'lodash.isdate'\nimport range from 'lodash.range'\nimport { alignBox } from '@nivo/core'\nimport { timeFormat } from 'd3-time-format'\nimport { timeDays, timeWeek, timeWeeks, timeMonths } from 'd3-time'\n\n/**\n * Compute min/max values.\n *\n * @param {Array<>}       data\n * @param {number|'auto'} minSpec - Define the strategy to use to compute min value, if number, it will be used, if 'auto', will use the lower value from the dataset\n * @param {number|'auto'} maxSpec - Define the strategy to use to compute max value, if number, it will be used, if 'auto', will use the higher value from the dataset\n * @return {[number, string]}\n */\nexport const computeDomain = (data, minSpec, maxSpec) => {\n    const allValues = data.map(d => d.value)\n    const minValue = minSpec === 'auto' ? Math.min(...allValues) : minSpec\n    const maxValue = maxSpec === 'auto' ? Math.max(...allValues) : maxSpec\n\n    return [minValue, maxValue]\n}\n\n/**\n * Compute day cell size according to current context.\n *\n * @param {number} width\n * @param {number} height\n * @param {number} direction\n * @param {number} blocks\n * @param {number} blockSpacing\n * @param {number} monthSpacing\n * @param {number} daySpacing\n * @param {number} maxRowsMonth\n * * @param {number} maxColumnsGroup\n * @param {number} monthsPerGroup\n * @returns {number}\n */\nconst computeCellSize = ({\n    width,\n    height,\n    direction,\n    blocks,\n    blockSpacing,\n    monthSpacing,\n    daySpacing,\n    maxRowsMonth,\n    maxColumnsGroup,\n    monthsPerGroup,\n}) => {\n    let hCellSize\n    let vCellSize\n\n    if (direction === 'horizontal') {\n        hCellSize =\n            (width - monthSpacing * monthsPerGroup - daySpacing * maxColumnsGroup) / maxColumnsGroup\n        vCellSize =\n            (height - (blocks - 1) * blockSpacing - blocks * (maxRowsMonth * daySpacing)) /\n            (blocks * maxRowsMonth)\n    } else {\n        hCellSize =\n            (width - (blocks - 1) * blockSpacing - blocks * (maxRowsMonth * daySpacing)) /\n            (blocks * maxRowsMonth)\n        vCellSize =\n            (height - monthSpacing * monthsPerGroup - daySpacing * maxColumnsGroup) /\n            maxColumnsGroup\n    }\n\n    return Math.min(hCellSize, vCellSize)\n}\n\n/**\n * Computes month path and bounding box.\n *\n * @param {Date}   date\n * @param {number} cellSize\n * @param {number} blockIndex\n * @param {number} blockSpacing\n * @param {number} monthSpacing\n * @param {number} daySpacing\n * @param {string} direction\n * @param {number} originX\n * @param {number} originY\n * @param {Date} startDate\n * @param {number} maxRowsMonth\n * @param {string} weekDirection\n * @returns { { path: string, bbox: { x: number, y: number, width: number, height: number } } }\n */\nconst monthPathAndBBox = ({\n    date,\n    cellSize,\n    blockIndex,\n    blockSpacing,\n    monthSpacing,\n    daySpacing,\n    direction,\n    originX,\n    originY,\n    startDate,\n    maxRowsMonth,\n    weekDirection,\n}) => {\n    // first day of next month\n    const t1 = new Date(date.getFullYear(), date.getMonth() + 1, 0)\n\n    // ranges\n    const elapsedMonths = getElapsedMonths(startDate, date)\n    let firstWeek\n    const lastWeek =\n        direction === weekDirection ? timeWeek.count(date, t1) : timeWeek.count(startDate, t1)\n    let firstDay = date.getDay()\n    let lastDay = t1.getDay()\n\n    // offset according to year index and month\n    let xO = originX\n    let yO = originY\n\n    if (direction === 'vertical' && weekDirection === 'vertical') {\n        yO += elapsedMonths * (maxRowsMonth * (cellSize + daySpacing) + monthSpacing)\n        xO += blockIndex * (7 * (cellSize + daySpacing) + blockSpacing)\n        firstWeek = 0\n    } else if (direction === 'vertical' && weekDirection === 'horizontal') {\n        firstWeek = timeWeek.count(startDate, date)\n        yO += elapsedMonths * monthSpacing\n        xO += blockIndex * (maxRowsMonth * (cellSize + daySpacing) + blockSpacing)\n    } else if (direction === 'horizontal' && weekDirection === 'vertical') {\n        firstWeek = timeWeek.count(startDate, date)\n        xO += elapsedMonths * monthSpacing\n        yO += blockIndex * (7 * (cellSize + daySpacing) + blockSpacing)\n    } else {\n        //Horizontal Horizontal\n        firstWeek = 0\n        xO += elapsedMonths * (monthSpacing + 7 * (cellSize + daySpacing))\n        yO += blockIndex * (maxRowsMonth * (cellSize + daySpacing) + blockSpacing)\n    }\n\n    let path\n    let bbox = { x: xO, y: yO, width: 0, height: 0 }\n    if (weekDirection === 'vertical') {\n        path = [\n            `M${xO + (firstWeek + 1) * (cellSize + daySpacing)},${\n                yO + firstDay * (cellSize + daySpacing)\n            }`,\n            `H${xO + firstWeek * (cellSize + daySpacing)}V${yO + 7 * (cellSize + daySpacing)}`,\n            `H${xO + lastWeek * (cellSize + daySpacing)}V${\n                yO + (lastDay + 1) * (cellSize + daySpacing)\n            }`,\n            `H${xO + (lastWeek + 1) * (cellSize + daySpacing)}V${yO}`,\n            `H${xO + (firstWeek + 1) * (cellSize + daySpacing)}Z`,\n        ].join('')\n\n        bbox.x = xO + firstWeek * (cellSize + daySpacing)\n        bbox.width = xO + (lastWeek + 1) * (cellSize + daySpacing) - bbox.x\n        bbox.height = 7 * (cellSize + daySpacing)\n    } else {\n        path = [\n            `M${xO + firstDay * (cellSize + daySpacing)},${\n                yO + (firstWeek + 1) * (cellSize + daySpacing)\n            }`,\n            `H${xO}V${yO + (lastWeek + 1) * (cellSize + daySpacing)}`,\n            `H${xO + (lastDay + 1) * (cellSize + daySpacing)}V${\n                yO + lastWeek * (cellSize + daySpacing)\n            }`,\n            `H${xO + 7 * (cellSize + daySpacing)}V${yO + firstWeek * (cellSize + daySpacing)}`,\n            `H${xO + firstDay * (cellSize + daySpacing)}Z`,\n        ].join('')\n\n        bbox.y = yO + firstWeek * (cellSize + daySpacing)\n        bbox.width = 7 * (cellSize + daySpacing)\n        bbox.height = yO + (lastWeek + 1) * (cellSize + daySpacing) - bbox.y\n    }\n\n    return { path, bbox }\n}\n\nconst getElapsedMonths = (from, to) => {\n    return to.getMonth() - from.getMonth() + 12 * (to.getFullYear() - from.getFullYear())\n}\n\nconst getA = (d, blockIndex, blockSpacing, daySpacing, maxRowsMonth, cellSize) => {\n    const weekOfMonth = getWeekOfTheMonth(d)\n    return (\n        weekOfMonth * (cellSize + daySpacing) +\n        daySpacing / 2 +\n        blockIndex * (blockSpacing + maxRowsMonth * (cellSize + daySpacing))\n    )\n}\n\nconst getB = (d, startDate, monthSpacing, daySpacing, cellSize) => {\n    const elapsedMonths = getElapsedMonths(startDate, d)\n    return (\n        elapsedMonths * 7 * (cellSize + daySpacing) +\n        d.getDay() * (cellSize + daySpacing) +\n        daySpacing / 2 +\n        elapsedMonths * monthSpacing\n    )\n}\n\nconst getC = (d, blockIndex, blockSpacing, daySpacing, maxRowsMonth, cellSize) => {\n    return (\n        d.getDay() * (cellSize + daySpacing) +\n        daySpacing / 2 +\n        blockIndex * (blockSpacing + maxRowsMonth * (cellSize + daySpacing))\n    )\n}\n\nconst getD = (d, startDate, monthSpacing, daySpacing, cellSize) => {\n    const elapsedWeeks = timeWeek.count(startDate, d)\n    const elapsedMonths = getElapsedMonths(startDate, d)\n    return elapsedWeeks * (cellSize + daySpacing) + daySpacing / 2 + elapsedMonths * monthSpacing\n}\n\nconst getWeekOfTheMonth = date => {\n    const firstWeekday = new Date(date.getFullYear(), date.getMonth(), 1).getDay()\n    const offsetDate = date.getDate() + firstWeekday - 1\n    return Math.floor(offsetDate / 7)\n}\n\n/**\n * Creates a memoized version of monthPathAndBBox function.\n */\nconst memoMonthPathAndBBox = memoize(\n    monthPathAndBBox,\n    ({\n        date,\n        cellSize,\n        blockIndex,\n        blockSpacing,\n        monthSpacing,\n        daySpacing,\n        direction,\n        originX,\n        originY,\n        startDate,\n        maxRowsMonth,\n        weekDirection,\n    }) => {\n        return `${date.toString()}.${startDate.toString()}.${maxRowsMonth}.${weekDirection}.${cellSize}.${blockIndex}.${blockSpacing}.${monthSpacing}.${daySpacing}.${direction}.${originX}.${originY}`\n    }\n)\n\n/**\n * Returns a function to Compute day cell position for horizontal layout and vertical week layout.\n *\n * @param {number} cellSize\n * @param {number} blockSpacing\n * @param {number} monthSpacing\n * @param {number} daySpacing\n * @returns { function(): { x: number, y: number } }\n */\nconst cellPositionHorizontalVertical = (\n    cellSize,\n    blockSpacing,\n    monthSpacing,\n    daySpacing,\n    maxRowsMonth\n) => {\n    return (originX, originY, d, blockIndex, startDate) => {\n        return {\n            x: originX + getD(d, startDate, monthSpacing, daySpacing, cellSize),\n            y: originY + getC(d, blockIndex, blockSpacing, daySpacing, maxRowsMonth, cellSize),\n        }\n    }\n}\n\n/**\n * Returns a function to Compute day cell position for vertical layout and horizontal week layout.\n *\n * @param {number} cellSize\n * @param {number} blockSpacing\n * @param {number} monthSpacing\n * @param {number} daySpacing\n * @returns { function(): { x: number, y: number } }\n */\nconst cellPositionVerticalHorizontal = (\n    cellSize,\n    blockSpacing,\n    monthSpacing,\n    daySpacing,\n    maxRowsMonth\n) => {\n    return (originX, originY, d, blockIndex, startDate) => {\n        return {\n            x: originX + getC(d, blockIndex, blockSpacing, daySpacing, maxRowsMonth, cellSize),\n            y: originY + getD(d, startDate, monthSpacing, daySpacing, cellSize),\n        }\n    }\n}\n\n/**\n * Returns a function to Compute day cell position for vertical layout and vertical week layout.\n *\n * @param {number} cellSize\n * @param {number} blockSpacing\n * @param {number} monthSpacing\n * @param {number} daySpacing\n * @returns { function(): { x: number, y: number } }\n */\nconst cellPositionVerticalVertical = (\n    cellSize,\n    blockSpacing,\n    monthSpacing,\n    daySpacing,\n    maxRowsMonth\n) => {\n    return (originX, originY, d, blockIndex, startDate) => {\n        return {\n            x: originX + getA(d, blockIndex, blockSpacing, daySpacing, maxRowsMonth, cellSize),\n            y: originY + getB(d, startDate, monthSpacing, daySpacing, cellSize),\n        }\n    }\n}\n\n/**\n * Returns a function to Compute day cell position for horizontal layout and horizontal week layout.\n *\n * @param {number} cellSize\n * @param {number} blockSpacing\n * @param {number} monthSpacing\n * @param {number} daySpacing\n * @returns { function(): { x: number, y: number } }\n */\nconst cellPositionHorizontalHorizontal = (\n    cellSize,\n    blockSpacing,\n    monthSpacing,\n    daySpacing,\n    maxRowsMonth\n) => {\n    return (originX, originY, d, blockIndex, startDate) => {\n        return {\n            x: originX + getB(d, startDate, monthSpacing, daySpacing, cellSize),\n            y: originY + getA(d, blockIndex, blockSpacing, daySpacing, maxRowsMonth, cellSize),\n        }\n    }\n}\n\n// used for days range and data matching\nconst dayFormat = timeFormat('%Y-%m-%d')\n\n/**\n * Compute base layout, without caring about the current data.\n *\n * @param {number}      width\n * @param {number}      height\n * @param {string|Date} from\n * @param {string|Date} to\n * @param {string}      direction\n * @param {number}      blockSpacing\n * @param {number}      monthSpacing\n * @param {number}      daySpacing\n * @param {string}      align\n * @param {string}      weekDirection\n * @param {string}      granularity\n * @param {number}      breakpoint\n * @returns {object}\n */\nexport const computeLayout = ({\n    width,\n    height,\n    from,\n    to,\n    direction,\n    blockSpacing,\n    monthSpacing,\n    daySpacing,\n    align,\n    weekDirection,\n    granularity,\n    breakpoint,\n}) => {\n    const fromDate = isDate(from) ? from : new Date(from)\n    const toDate = isDate(to) ? to : new Date(to)\n\n    if (weekDirection === 'auto') {\n        weekDirection = direction === 'vertical' ? 'horizontal' : 'vertical'\n    }\n    if (breakpoint === 'auto') {\n        if (granularity === 'year') {\n            breakpoint = 1\n        } else {\n            breakpoint = getElapsedMonths(fromDate, toDate) + 1\n        }\n    }\n    let monthsPerGroup\n    let dates = []\n    let maxRowsMonth\n    let maxColumnsGroup = 0\n    if (granularity === 'year') {\n        // An year will always have a month with at least 6 parcial weeks\n        maxRowsMonth = weekDirection === 'horizontal' ? 6 : 7\n        maxColumnsGroup = 0\n        let yearRange = range(fromDate.getFullYear(), toDate.getFullYear() + 1)\n        monthsPerGroup = Math.min(yearRange.length, breakpoint) * 12\n        while (yearRange.length) {\n            const arr = yearRange.splice(0, breakpoint)\n            const begin = new Date(arr[0], 0, 1)\n            const end = new Date(arr[arr.length - 1] + 1, 0, 1)\n            dates.push([begin, end])\n            maxColumnsGroup = Math.max(maxColumnsGroup, timeWeeks(begin, end).length)\n        }\n        maxColumnsGroup += 1\n    } else {\n        //can only be month\n        monthsPerGroup = Math.min(getElapsedMonths(fromDate, toDate) + 1, breakpoint)\n        let date = new Date(fromDate.getFullYear(), fromDate.getMonth(), 1)\n        let aux = new Date(date.getTime())\n        while (date < toDate) {\n            if (weekDirection === 'horizontal' && maxRowsMonth !== 6) {\n                let i = 1\n                while (i <= breakpoint) {\n                    let weekDay = new Date(aux.getFullYear(), aux.getMonth() + i - 1, 1).getDay()\n                    let days = new Date(date.getFullYear(), date.getMonth() + i, 0).getDate()\n                    if (days + weekDay >= 36) {\n                        maxRowsMonth = 6\n                        break\n                    } else if (days + weekDay == 28) {\n                        maxRowsMonth = Math.max(maxRowsMonth, 4)\n                    } else {\n                        maxRowsMonth = 5\n                    }\n                    i += 1\n                }\n            }\n            aux.setMonth(aux.getMonth() + breakpoint)\n            let pair = [date, new Date(aux.getTime() - 1)] //set this date as the last possible one from the previous month.\n            dates.push(pair)\n            if (direction !== weekDirection) {\n                maxColumnsGroup = Math.max(timeWeeks(pair[0], pair[1]).length + 1, maxColumnsGroup)\n            }\n            date = new Date(aux.getTime())\n        }\n        if (weekDirection === 'vertical') {\n            maxRowsMonth = 7\n        }\n    }\n    if (direction === weekDirection) {\n        maxColumnsGroup = 7 * monthsPerGroup\n    }\n\n    const cellSize = computeCellSize({\n        width,\n        height,\n        direction,\n        blocks: dates.length,\n        blockSpacing,\n        monthSpacing,\n        daySpacing,\n        maxRowsMonth,\n        maxColumnsGroup,\n        monthsPerGroup,\n    })\n\n    const monthsSize =\n        cellSize * maxColumnsGroup + daySpacing * maxColumnsGroup + monthSpacing * monthsPerGroup\n    const yearsSize =\n        (cellSize + daySpacing) * maxRowsMonth * dates.length +\n        blockSpacing * (dates.length > 1 ? dates.length : 0)\n\n    const calendarWidth = direction === 'horizontal' ? monthsSize : yearsSize\n    const calendarHeight = direction === 'horizontal' ? yearsSize : monthsSize\n    const [originX, originY] = alignBox(\n        {\n            x: 0,\n            y: 0,\n            width: calendarWidth,\n            height: calendarHeight,\n        },\n        {\n            x: 0,\n            y: 0,\n            width,\n            height,\n        },\n        align\n    )\n    let cellPosition\n    if (direction === 'horizontal') {\n        if (weekDirection === 'horizontal') {\n            cellPosition = cellPositionHorizontalHorizontal(\n                cellSize,\n                blockSpacing,\n                monthSpacing,\n                daySpacing,\n                maxRowsMonth\n            )\n        } else {\n            cellPosition = cellPositionHorizontalVertical(\n                cellSize,\n                blockSpacing,\n                monthSpacing,\n                daySpacing,\n                maxRowsMonth\n            )\n        }\n    } else {\n        if (weekDirection === 'horizontal') {\n            cellPosition = cellPositionVerticalHorizontal(\n                cellSize,\n                blockSpacing,\n                monthSpacing,\n                daySpacing,\n                maxRowsMonth\n            )\n        } else {\n            cellPosition = cellPositionVerticalVertical(\n                cellSize,\n                blockSpacing,\n                monthSpacing,\n                daySpacing,\n                maxRowsMonth\n            )\n        }\n    }\n\n    let blocks = []\n    let months = []\n    let days = []\n\n    dates.forEach((date, i) => {\n        days = days.concat(\n            timeDays(date[0], date[1]).map(dayDate => {\n                return {\n                    date: dayDate,\n                    day: dayFormat(dayDate),\n                    size: cellSize,\n                    ...cellPosition(originX, originY, dayDate, i, date[0]),\n                }\n            })\n        )\n        const blockMonths = timeMonths(date[0], date[1]).map(monthDate => ({\n            date: monthDate,\n            year: monthDate.getFullYear(),\n            month: monthDate.getMonth(),\n            ...memoMonthPathAndBBox({\n                originX,\n                originY,\n                date: monthDate,\n                direction,\n                blockIndex: i,\n                blockSpacing,\n                monthSpacing,\n                daySpacing,\n                cellSize,\n                startDate: date[0],\n                maxRowsMonth,\n                weekDirection,\n            }),\n        }))\n\n        months = months.concat(blockMonths)\n        blocks.push({\n            firstMonth: date[0].getMonth(),\n            firstYear: date[0].getFullYear(),\n            lastMonth: date[1].getMonth(),\n            lastYear: date[1].getFullYear(),\n            bbox: {\n                x: blockMonths[0].bbox.x,\n                y: blockMonths[0].bbox.y,\n                width:\n                    blockMonths[blockMonths.length - 1].bbox.x -\n                    blockMonths[0].bbox.x +\n                    blockMonths[blockMonths.length - 1].bbox.width,\n                height:\n                    blockMonths[blockMonths.length - 1].bbox.y -\n                    blockMonths[0].bbox.y +\n                    blockMonths[blockMonths.length - 1].bbox.height,\n            },\n        })\n    })\n    return { blocks, months, days, cellSize, calendarWidth, calendarHeight, originX, originY }\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { useMemo } from 'react'\nimport { computeLayout } from './enhancedCompute'\n\nexport const useCalendarLayout = ({\n    width,\n    height,\n    from,\n    to,\n    direction,\n    blockSpacing,\n    monthSpacing,\n    daySpacing,\n    align,\n    granularity,\n    weekDirection,\n    breakpoint,\n}) =>\n    useMemo(\n        () =>\n            computeLayout({\n                width,\n                height,\n                from,\n                to,\n                direction,\n                blockSpacing,\n                monthSpacing,\n                daySpacing,\n                align,\n                granularity,\n                weekDirection,\n                breakpoint,\n            }),\n        [\n            width,\n            height,\n            from,\n            to,\n            direction,\n            blockSpacing,\n            monthSpacing,\n            daySpacing,\n            align,\n            granularity,\n            weekDirection,\n            breakpoint,\n        ]\n    )\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\nimport { CalendarPropTypes } from './props'\nimport { CalendarDefaultProps } from './props'\n\nconst {\n    // eslint-disable-next-line no-unused-vars\n    yearLegend,\n    // eslint-disable-next-line no-unused-vars\n    yearSpacing,\n    // eslint-disable-next-line no-unused-vars\n    yearLegendPosition,\n    // eslint-disable-next-line no-unused-vars\n    yearLegendOffset,\n    ...filteredPropTypes\n} = CalendarPropTypes\n\nconst enhancedCommonPropTypes = {\n    ...filteredPropTypes,\n    granularity: PropTypes.oneOf(['year', 'month']).isRequired,\n    weekDirection: PropTypes.oneOf(['auto', 'horizontal', 'vertical']).isRequired,\n    breakpoint: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]).isRequired,\n    blockLegend: PropTypes.func.isRequired,\n    blockSpacing: PropTypes.number.isRequired,\n    blockLegendPosition: PropTypes.oneOf(['before', 'after']).isRequired,\n    blockLegendOffset: PropTypes.number.isRequired,\n}\n\nexport const EnhancedCalendarPropTypes = enhancedCommonPropTypes\n\nexport const EnhancedCalendarCanvasPropTypes = {\n    ...enhancedCommonPropTypes,\n    pixelRatio: PropTypes.number.isRequired,\n}\n\nconst {\n    // eslint-disable-next-line no-unused-vars\n    ['yearSpacing']: yearSpacingDefault,\n    // eslint-disable-next-line no-unused-vars\n    ['yearLegend']: yearLegendDefault,\n    // eslint-disable-next-line no-unused-vars\n    ['yearLegendPosition']: yearLegendPositionDefault,\n    // eslint-disable-next-line no-unused-vars\n    ['yearLegendOffset']: yearLegendOffsetDefault,\n    ...filteredDefaultProps\n} = CalendarDefaultProps\nconst enhancedCommonDefaultProps = {\n    ...filteredDefaultProps,\n    granularity: 'year',\n    weekDirection: 'auto',\n    breakpoint: 'auto',\n    blockSpacing: 30,\n    blockLegend: block => block.firstYear,\n    blockLegendPosition: 'before',\n    blockLegendOffset: 10,\n}\n\nexport const EnhancedCalendarDefaultProps = enhancedCommonDefaultProps\n\nexport const EnhancedCalendarCanvasDefaultProps = {\n    ...enhancedCommonDefaultProps,\n    pixelRatio:\n        global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1,\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { SvgWrapper, useTheme, useDimensions, withContainer, useValueFormatter } from '@nivo/core'\nimport { BoxLegendSvg } from '@nivo/legends'\n\nimport CalendarBlockLegends from './CalendarBlockLegends'\nimport CalendarMonthPath from './CalendarMonthPath'\nimport CalendarMonthLegends from './CalendarMonthLegends'\n\nimport { useCalendarLayout } from './enhancedHooks'\nimport { useMonthLegends, useBlockLegends, useDays, useColorScale } from './sharedHooks'\nimport CalendarDay from './CalendarDay'\nimport { EnhancedCalendarPropTypes, EnhancedCalendarDefaultProps } from './enhancedProps'\n\nconst EnhancedCalendar = ({\n    margin: partialMargin,\n    width,\n    height,\n\n    align,\n    colors,\n    colorScale,\n    data,\n    direction,\n    emptyColor,\n    from,\n    to,\n    minValue,\n    maxValue,\n    valueFormat,\n    legendFormat,\n\n    blockLegend,\n    blockLegendOffset,\n    blockLegendPosition,\n    blockSpacing,\n\n    monthBorderColor,\n    monthBorderWidth,\n    monthLegend,\n    monthLegendOffset,\n    monthLegendPosition,\n    monthSpacing,\n\n    dayBorderColor,\n    dayBorderWidth,\n    daySpacing,\n\n    granularity,\n    weekDirection,\n    breakpoint,\n\n    isInteractive,\n    tooltip,\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n    onMouseMove,\n\n    legends,\n    role,\n}) => {\n    const theme = useTheme()\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n    let { months, blocks, days } = useCalendarLayout({\n        width: innerWidth,\n        height: innerHeight,\n        from,\n        to,\n        direction,\n        blockSpacing,\n        monthSpacing,\n        daySpacing,\n        align,\n        granularity,\n        weekDirection,\n        breakpoint,\n    })\n    colorScale = useColorScale({ data, minValue, maxValue, colors, colorScale })\n    const monthLegends = useMonthLegends({\n        months,\n        direction,\n        monthLegendPosition,\n        monthLegendOffset,\n    })\n    const blockLegends = useBlockLegends({\n        blocks,\n        direction,\n        blockLegendPosition,\n        blockLegendOffset,\n    })\n    days = useDays({ days, data, colorScale, emptyColor })\n    const formatLegend = useValueFormatter(legendFormat)\n    const formatValue = useValueFormatter(valueFormat)\n\n    return (\n        <SvgWrapper\n            width={outerWidth}\n            height={outerHeight}\n            margin={margin}\n            theme={theme}\n            role={role}\n        >\n            {days.map(d => (\n                <CalendarDay\n                    key={d.date.toString()}\n                    data={d}\n                    x={d.x}\n                    y={d.y}\n                    size={d.size}\n                    spacing={daySpacing}\n                    color={d.color}\n                    borderWidth={dayBorderWidth}\n                    borderColor={dayBorderColor}\n                    onMouseEnter={onMouseEnter}\n                    onMouseLeave={onMouseLeave}\n                    onMouseMove={onMouseMove}\n                    isInteractive={isInteractive}\n                    tooltip={tooltip}\n                    theme={theme}\n                    onClick={onClick}\n                    formatValue={formatValue}\n                />\n            ))}\n            {months.map(m => (\n                <CalendarMonthPath\n                    key={m.date.toString()}\n                    path={m.path}\n                    borderWidth={monthBorderWidth}\n                    borderColor={monthBorderColor}\n                />\n            ))}\n            <CalendarMonthLegends months={monthLegends} legend={monthLegend} theme={theme} />\n            <CalendarBlockLegends blocks={blockLegends} legend={blockLegend} theme={theme} />\n            {legends.map((legend, i) => {\n                const legendData = colorScale.ticks(legend.itemCount).map(value => ({\n                    id: value,\n                    label: formatLegend(value),\n                    color: colorScale(value),\n                }))\n\n                return (\n                    <BoxLegendSvg\n                        key={i}\n                        {...legend}\n                        containerWidth={width}\n                        containerHeight={height}\n                        data={legendData}\n                        theme={theme}\n                    />\n                )\n            })}\n        </SvgWrapper>\n    )\n}\n\nEnhancedCalendar.displayName = 'EnhancedCalendar'\nEnhancedCalendar.defaultProps = EnhancedCalendarDefaultProps\nEnhancedCalendar.propTypes = EnhancedCalendarPropTypes\n\nexport default withContainer(EnhancedCalendar)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { ResponsiveWrapper } from '@nivo/core'\nimport Calendar from './Calendar'\n\nconst ResponsiveCalendar = props => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <Calendar width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n\nexport default ResponsiveCalendar\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { ResponsiveWrapper } from '@nivo/core'\nimport EnhancedCalendar from './EnhancedCalendar'\n\nconst ResponsiveEnhancedCalendar = props => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <EnhancedCalendar width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n\nexport default ResponsiveEnhancedCalendar\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useRef, useState, useEffect, useCallback } from 'react'\nimport {\n    isCursorInRect,\n    getRelativeCursor,\n    degreesToRadians,\n    useDimensions,\n    useTheme,\n    withContainer,\n    useValueFormatter,\n} from '@nivo/core'\nimport { renderLegendToCanvas } from '@nivo/legends'\nimport { CalendarCanvasPropTypes, CalendarCanvasDefaultProps } from './props'\nimport { useCalendarLayout } from './hooks'\nimport { useMonthLegends, useBlockLegends, useDays, useColorScale } from './sharedHooks'\nimport { useTooltip } from '@nivo/tooltip'\n\nconst findDayUnderCursor = (event, canvasEl, days, size, dayBorderWidth, margin) => {\n    const [x, y] = getRelativeCursor(canvasEl, event)\n    return days.find(day => {\n        return (\n            day.value !== undefined &&\n            isCursorInRect(\n                day.x + margin.left - dayBorderWidth / 2,\n                day.y + margin.top - dayBorderWidth / 2,\n                size + dayBorderWidth,\n                size + dayBorderWidth,\n                x,\n                y\n            )\n        )\n    })\n}\n\nconst CalendarCanvas = memo(\n    ({\n        margin: partialMargin,\n        width,\n        height,\n        pixelRatio,\n\n        align,\n        colors,\n        colorScale,\n        data,\n        direction,\n        emptyColor,\n        from,\n        to,\n        minValue,\n        maxValue,\n        valueFormat,\n        legendFormat,\n\n        yearLegend,\n        yearLegendOffset,\n        yearLegendPosition,\n        yearSpacing,\n\n        monthLegend,\n        monthLegendOffset,\n        monthLegendPosition,\n        monthSpacing,\n\n        dayBorderColor,\n        dayBorderWidth,\n        daySpacing,\n\n        isInteractive,\n        tooltip,\n        onClick,\n        onMouseEnter,\n        onMouseLeave,\n        onMouseMove,\n\n        legends,\n    }) => {\n        const canvasEl = useRef(null)\n        const { innerWidth, innerHeight, outerWidth, outerHeight, margin } = useDimensions(\n            width,\n            height,\n            partialMargin\n        )\n        const { months, years, ...rest } = useCalendarLayout({\n            width: innerWidth,\n            height: innerHeight,\n            from,\n            to,\n            direction,\n            yearSpacing,\n            monthSpacing,\n            daySpacing,\n            align,\n        })\n        const colorScaleFn = useColorScale({ data, minValue, maxValue, colors, colorScale })\n        const monthLegends = useMonthLegends({\n            months,\n            direction,\n            monthLegendPosition,\n            monthLegendOffset,\n        })\n        const yearLegends = useBlockLegends({\n            blocks: years,\n            direction,\n            blockLegendPosition: yearLegendPosition,\n            blockLegendOffset: yearLegendOffset,\n        })\n        const days = useDays({ days: rest.days, data, colorScale: colorScaleFn, emptyColor })\n        const [currentDay, setCurrentDay] = useState(null)\n        const theme = useTheme()\n        const formatValue = useValueFormatter(valueFormat)\n        const formatLegend = useValueFormatter(legendFormat)\n\n        const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n        useEffect(() => {\n            canvasEl.current.width = outerWidth * pixelRatio\n            canvasEl.current.height = outerHeight * pixelRatio\n\n            const ctx = canvasEl.current.getContext('2d')\n\n            ctx.scale(pixelRatio, pixelRatio)\n\n            ctx.fillStyle = theme.background\n            ctx.fillRect(0, 0, outerWidth, outerHeight)\n            ctx.translate(margin.left, margin.top)\n\n            days.forEach(day => {\n                ctx.fillStyle = day.color\n                if (dayBorderWidth > 0) {\n                    ctx.strokeStyle = dayBorderColor\n                    ctx.lineWidth = dayBorderWidth\n                }\n\n                ctx.beginPath()\n                ctx.rect(day.x, day.y, day.size, day.size)\n                ctx.fill()\n\n                if (dayBorderWidth > 0) {\n                    ctx.stroke()\n                }\n            })\n\n            ctx.textAlign = 'center'\n            ctx.textBaseline = 'middle'\n            ctx.fillStyle = theme.labels.text.fill\n            ctx.font = `${theme.labels.text.fontSize}px ${theme.labels.text.fontFamily}`\n\n            monthLegends.forEach(month => {\n                ctx.save()\n                ctx.translate(month.x, month.y)\n                ctx.rotate(degreesToRadians(month.rotation))\n                ctx.fillText(monthLegend(month.year, month.month, month.date), 0, 0)\n                ctx.restore()\n            })\n\n            yearLegends.forEach(year => {\n                ctx.save()\n                ctx.translate(year.x, year.y)\n                ctx.rotate(degreesToRadians(year.rotation))\n                ctx.fillText(yearLegend(year.year), 0, 0)\n                ctx.restore()\n            })\n\n            legends.forEach(legend => {\n                const legendData = colorScaleFn.ticks(legend.itemCount).map(value => ({\n                    id: value,\n                    label: formatLegend(value),\n                    color: colorScaleFn(value),\n                }))\n\n                renderLegendToCanvas(ctx, {\n                    ...legend,\n                    data: legendData,\n                    containerWidth: innerWidth,\n                    containerHeight: innerHeight,\n                    theme,\n                })\n            })\n        }, [\n            canvasEl,\n            innerHeight,\n            innerWidth,\n            outerWidth,\n            outerHeight,\n            pixelRatio,\n            margin,\n            days,\n            dayBorderColor,\n            dayBorderWidth,\n            colorScale,\n            yearLegend,\n            yearLegends,\n            monthLegend,\n            monthLegends,\n            legends,\n            theme,\n            formatLegend,\n        ])\n\n        const handleMouseHover = useCallback(\n            event => {\n                const data = findDayUnderCursor(\n                    event,\n                    canvasEl.current,\n                    days,\n                    days[0].size,\n                    dayBorderWidth,\n                    margin\n                )\n\n                if (data) {\n                    setCurrentDay(data)\n                    const formatedData = {\n                        ...data,\n                        value: formatValue(data.value),\n                        data: { ...data.data },\n                    }\n                    showTooltipFromEvent(React.createElement(tooltip, { ...formatedData }), event)\n                    !currentDay && onMouseEnter && onMouseEnter(data, event)\n                    onMouseMove && onMouseMove(data, event)\n                    currentDay &&\n                        currentDay.id !== data.id &&\n                        onMouseLeave &&\n                        onMouseLeave(data, event)\n                } else {\n                    hideTooltip()\n                    onMouseLeave && onMouseLeave(data, event)\n                }\n            },\n            [\n                canvasEl,\n                margin,\n                days,\n                setCurrentDay,\n                formatValue,\n                daySpacing,\n                showTooltipFromEvent,\n                hideTooltip,\n                onMouseEnter,\n                onMouseMove,\n                onMouseLeave,\n            ]\n        )\n\n        const handleMouseLeave = useCallback(() => {\n            setCurrentDay(null)\n            hideTooltip()\n        }, [setCurrentDay, hideTooltip])\n\n        const handleClick = useCallback(\n            event => {\n                if (!onClick) return\n\n                const data = findDayUnderCursor(\n                    event,\n                    canvasEl.current,\n                    days,\n                    days[0].size,\n                    daySpacing,\n                    margin\n                )\n\n                data && onClick(data, event)\n            },\n            [canvasEl, daySpacing, margin, setCurrentDay, days, onClick]\n        )\n\n        return (\n            <canvas\n                ref={canvasEl}\n                width={outerWidth * pixelRatio}\n                height={outerHeight * pixelRatio}\n                style={{\n                    width: outerWidth,\n                    height: outerHeight,\n                }}\n                onMouseEnter={isInteractive ? handleMouseHover : undefined}\n                onMouseMove={isInteractive ? handleMouseHover : undefined}\n                onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n                onClick={isInteractive ? handleClick : undefined}\n            />\n        )\n    }\n)\n\nCalendarCanvas.displayName = 'CalendarCanvas'\nCalendarCanvas.defaultProps = CalendarCanvasDefaultProps\nCalendarCanvas.propTypes = CalendarCanvasPropTypes\n\nexport default withContainer(CalendarCanvas)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useRef, useState, useEffect, useCallback } from 'react'\nimport {\n    isCursorInRect,\n    getRelativeCursor,\n    degreesToRadians,\n    useDimensions,\n    useTheme,\n    withContainer,\n    useValueFormatter,\n} from '@nivo/core'\nimport { renderLegendToCanvas } from '@nivo/legends'\nimport { useCalendarLayout } from './enhancedHooks'\nimport { useMonthLegends, useBlockLegends, useDays, useColorScale } from './sharedHooks'\nimport { useTooltip } from '@nivo/tooltip'\nimport {\n    EnhancedCalendarCanvasDefaultProps,\n    EnhancedCalendarCanvasPropTypes,\n} from './enhancedProps'\n\nconst findDayUnderCursor = (event, canvasEl, days, size, dayBorderWidth, margin) => {\n    const [x, y] = getRelativeCursor(canvasEl, event)\n    return days.find(day => {\n        return (\n            day.value !== undefined &&\n            isCursorInRect(\n                day.x + margin.left - dayBorderWidth / 2,\n                day.y + margin.top - dayBorderWidth / 2,\n                size + dayBorderWidth,\n                size + dayBorderWidth,\n                x,\n                y\n            )\n        )\n    })\n}\n\nconst EnhancedCalendarCanvas = memo(\n    ({\n        margin: partialMargin,\n        width,\n        height,\n        pixelRatio,\n\n        align,\n        colors,\n        colorScale,\n        data,\n        direction,\n        emptyColor,\n        from,\n        to,\n        minValue,\n        maxValue,\n        valueFormat,\n        legendFormat,\n\n        blockLegend,\n        blockLegendOffset,\n        blockLegendPosition,\n        blockSpacing,\n\n        monthLegend,\n        monthLegendOffset,\n        monthLegendPosition,\n        monthSpacing,\n\n        dayBorderColor,\n        dayBorderWidth,\n        daySpacing,\n\n        granularity,\n        weekDirection,\n        breakpoint,\n\n        isInteractive,\n        tooltip,\n        onClick,\n        onMouseEnter,\n        onMouseLeave,\n        onMouseMove,\n\n        legends,\n    }) => {\n        const canvasEl = useRef(null)\n        const { innerWidth, innerHeight, outerWidth, outerHeight, margin } = useDimensions(\n            width,\n            height,\n            partialMargin\n        )\n        const { months, blocks, ...rest } = useCalendarLayout({\n            width: innerWidth,\n            height: innerHeight,\n            from,\n            to,\n            direction,\n            blockSpacing,\n            monthSpacing,\n            daySpacing,\n            align,\n            granularity,\n            weekDirection,\n            breakpoint,\n        })\n        const colorScaleFn = useColorScale({ data, minValue, maxValue, colors, colorScale })\n        const monthLegends = useMonthLegends({\n            months,\n            direction,\n            monthLegendPosition,\n            monthLegendOffset,\n        })\n        const blockLegends = useBlockLegends({\n            blocks,\n            direction,\n            blockLegendPosition,\n            blockLegendOffset,\n        })\n        const days = useDays({ days: rest.days, data, colorScale: colorScaleFn, emptyColor })\n        const [currentDay, setCurrentDay] = useState(null)\n        const theme = useTheme()\n        const formatValue = useValueFormatter(valueFormat)\n        const formatLegend = useValueFormatter(legendFormat)\n\n        const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n        useEffect(() => {\n            canvasEl.current.width = outerWidth * pixelRatio\n            canvasEl.current.height = outerHeight * pixelRatio\n\n            const ctx = canvasEl.current.getContext('2d')\n\n            ctx.scale(pixelRatio, pixelRatio)\n\n            ctx.fillStyle = theme.background\n            ctx.fillRect(0, 0, outerWidth, outerHeight)\n            ctx.translate(margin.left, margin.top)\n\n            days.forEach(day => {\n                ctx.fillStyle = day.color\n                if (dayBorderWidth > 0) {\n                    ctx.strokeStyle = dayBorderColor\n                    ctx.lineWidth = dayBorderWidth\n                }\n\n                ctx.beginPath()\n                ctx.rect(day.x, day.y, day.size, day.size)\n                ctx.fill()\n\n                if (dayBorderWidth > 0) {\n                    ctx.stroke()\n                }\n            })\n\n            ctx.textAlign = 'center'\n            ctx.textBaseline = 'middle'\n            ctx.fillStyle = theme.labels.text.fill\n            ctx.font = `${theme.labels.text.fontSize}px ${theme.labels.text.fontFamily}`\n\n            monthLegends.forEach(month => {\n                ctx.save()\n                ctx.translate(month.x, month.y)\n                ctx.rotate(degreesToRadians(month.rotation))\n                ctx.fillText(monthLegend(month.year, month.month, month.date), 0, 0)\n                ctx.restore()\n            })\n\n            blockLegends.forEach(block => {\n                ctx.save()\n                ctx.translate(block.x, block.y)\n                ctx.rotate(degreesToRadians(block.rotation))\n                ctx.fillText(blockLegend(block), 0, 0)\n                ctx.restore()\n            })\n\n            legends.forEach(legend => {\n                const legendData = colorScaleFn.ticks(legend.itemCount).map(value => ({\n                    id: value,\n                    label: formatLegend(value),\n                    color: colorScaleFn(value),\n                }))\n\n                renderLegendToCanvas(ctx, {\n                    ...legend,\n                    data: legendData,\n                    containerWidth: innerWidth,\n                    containerHeight: innerHeight,\n                    theme,\n                })\n            })\n        }, [\n            canvasEl,\n            innerHeight,\n            innerWidth,\n            outerWidth,\n            outerHeight,\n            pixelRatio,\n            margin,\n            days,\n            dayBorderColor,\n            dayBorderWidth,\n            colorScale,\n            blockLegend,\n            blockLegends,\n            monthLegend,\n            monthLegends,\n            legends,\n            theme,\n            formatLegend,\n        ])\n\n        const handleMouseHover = useCallback(\n            event => {\n                const data = findDayUnderCursor(\n                    event,\n                    canvasEl.current,\n                    days,\n                    days[0].size,\n                    dayBorderWidth,\n                    margin\n                )\n\n                if (data) {\n                    setCurrentDay(data)\n                    const formatedData = {\n                        ...data,\n                        value: formatValue(data.value),\n                        data: { ...data.data },\n                    }\n                    showTooltipFromEvent(React.createElement(tooltip, { ...formatedData }), event)\n                    !currentDay && onMouseEnter && onMouseEnter(data, event)\n                    onMouseMove && onMouseMove(data, event)\n                    currentDay &&\n                        currentDay.id !== data.id &&\n                        onMouseLeave &&\n                        onMouseLeave(data, event)\n                } else {\n                    hideTooltip()\n                    onMouseLeave && onMouseLeave(data, event)\n                }\n            },\n            [\n                canvasEl,\n                margin,\n                days,\n                setCurrentDay,\n                formatValue,\n                daySpacing,\n                showTooltipFromEvent,\n                hideTooltip,\n                onMouseEnter,\n                onMouseMove,\n                onMouseLeave,\n            ]\n        )\n\n        const handleMouseLeave = useCallback(() => {\n            setCurrentDay(null)\n            hideTooltip()\n        }, [setCurrentDay, hideTooltip])\n\n        const handleClick = useCallback(\n            event => {\n                if (!onClick) return\n\n                const data = findDayUnderCursor(\n                    event,\n                    canvasEl.current,\n                    days,\n                    days[0].size,\n                    daySpacing,\n                    margin\n                )\n\n                data && onClick(data, event)\n            },\n            [canvasEl, daySpacing, margin, setCurrentDay, days, onClick]\n        )\n\n        return (\n            <canvas\n                ref={canvasEl}\n                width={outerWidth * pixelRatio}\n                height={outerHeight * pixelRatio}\n                style={{\n                    width: outerWidth,\n                    height: outerHeight,\n                }}\n                onMouseEnter={isInteractive ? handleMouseHover : undefined}\n                onMouseMove={isInteractive ? handleMouseHover : undefined}\n                onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n                onClick={isInteractive ? handleClick : undefined}\n            />\n        )\n    }\n)\n\nEnhancedCalendarCanvas.displayName = 'EnhancedCalendarCanvas'\nEnhancedCalendarCanvas.defaultProps = EnhancedCalendarCanvasDefaultProps\nEnhancedCalendarCanvas.propTypes = EnhancedCalendarCanvasPropTypes\n\nexport default withContainer(EnhancedCalendarCanvas)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { ResponsiveWrapper } from '@nivo/core'\nimport CalendarCanvas from './CalendarCanvas'\n\nconst ResponsiveCalendarCanvas = props => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <CalendarCanvas width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n\nexport default ResponsiveCalendarCanvas\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { ResponsiveWrapper } from '@nivo/core'\nimport EnhancedCalendarCanvas from './EnhancedCalendarCanvas'\n\nconst ResponsiveEnhancedCalendarCanvas = props => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <EnhancedCalendarCanvas width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n\nexport default ResponsiveEnhancedCalendarCanvas\n"],"names":["objectWithoutPropertiesLoose","defineProperty","CalendarTooltip","memo","value","day","color","undefined","isNaN","displayName","monthLabelFormat","timeFormat","commonPropTypes","from","PropTypes","oneOfType","string","instanceOf","Date","isRequired","to","data","arrayOf","shape","number","align","oneOf","boxAlignments","minValue","maxValue","colors","colorScale","func","direction","emptyColor","yearLegend","yearSpacing","yearLegendPosition","yearLegendOffset","monthBorderWidth","monthBorderColor","monthLegend","monthSpacing","monthLegendPosition","monthLegendOffset","daySpacing","dayBorderWidth","dayBorderColor","isInteractive","bool","onClick","onMouseEnter","onMouseLeave","onMouseMove","tooltip","object","valueFormat","legendFormat","legends","LegendPropShape","itemCount","CalendarPropTypes","role","CalendarCanvasPropTypes","pixelRatio","commonDefaultProps","year","month","date","weekdayLegend","d","CalendarDefaultProps","CalendarCanvasDefaultProps","global","window","devicePixelRatio","CalendarYearLegends","years","legend","theme","map","x","y","rotation","labels","text","CalendarMonthPath","path","borderWidth","borderColor","fill","strokeWidth","stroke","pointerEvents","CalendarMonthLegends","months","toString","arrayLikeToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","arrayWithoutHoles","iterableToArray","nonIterableSpread","computeCellSize","width","height","yearRange","maxWeeks","hCellSize","vCellSize","length","Math","min","monthPathAndBBox","cellSize","yearIndex","originX","originY","t1","getFullYear","getMonth","firstWeek","timeWeek","count","timeYear","lastWeek","firstDay","getDay","lastDay","xO","yO","yearOffset","monthOffset","bbox","join","memoMonthPathAndBBox","memoize","cellPositionHorizontal","weekOfYear","cellPositionVertical","dayFormat","computeLayout","fromDate","isDate","toDate","range","max","timeWeeks","monthsSize","yearsSize","calendarWidth","calendarHeight","alignBox","cellPosition","days","forEach","i","yearStart","yearEnd","concat","timeDays","dayDate","size","yearMonths","timeMonths","monthDate","push","useCalendarLayout","useMemo","computeDomain","minSpec","maxSpec","allValues","computeMonthLegendPositions","position","offset","bindDaysData","dayData","computeBlockLegendPositions","blocks","block","useColorScale","domain","defaultColorScale","scaleQuantize","useBlockLegends","blockLegendPosition","blockLegendOffset","useDays","useMonthLegends","CalendarDay","formatValue","useTooltip","showTooltipFromEvent","hideTooltip","handleMouseEnter","useCallback","event","formatedData","React","createElement","handleMouseMove","handleMouseLeave","handleClick","Calendar","partialMargin","margin","useTheme","useDimensions","innerWidth","innerHeight","outerWidth","outerHeight","rest","colorScaleFn","monthLegends","yearLegends","formatLegend","useValueFormatter","m","legendData","ticks","id","label","defaultProps","withContainer","CalendarBlockLegends","String","firstYear","firstMonth","lastYear","lastMonth","blockSpacing","maxRowsMonth","maxColumnsGroup","monthsPerGroup","blockIndex","startDate","weekDirection","elapsedMonths","getElapsedMonths","getA","weekOfMonth","getWeekOfTheMonth","getB","getC","getD","elapsedWeeks","firstWeekday","offsetDate","getDate","floor","cellPositionHorizontalVertical","cellPositionVerticalHorizontal","cellPositionVerticalVertical","cellPositionHorizontalHorizontal","granularity","breakpoint","dates","arr","splice","begin","end","aux","getTime","weekDay","setMonth","pair","blockMonths","filteredPropTypes","enhancedCommonPropTypes","blockLegend","EnhancedCalendarPropTypes","EnhancedCalendarCanvasPropTypes","yearSpacingDefault","yearLegendDefault","yearLegendPositionDefault","yearLegendOffsetDefault","filteredDefaultProps","enhancedCommonDefaultProps","EnhancedCalendarDefaultProps","EnhancedCalendarCanvasDefaultProps","EnhancedCalendar","blockLegends","ResponsiveCalendar","props","ResponsiveEnhancedCalendar","findDayUnderCursor","canvasEl","getRelativeCursor","find","isCursorInRect","left","top","CalendarCanvas","useRef","useState","currentDay","setCurrentDay","useEffect","current","ctx","getContext","scale","fillStyle","background","fillRect","translate","strokeStyle","lineWidth","beginPath","rect","textAlign","textBaseline","font","fontSize","fontFamily","save","rotate","degreesToRadians","fillText","restore","renderLegendToCanvas","containerWidth","containerHeight","handleMouseHover","EnhancedCalendarCanvas","ResponsiveCalendarCanvas","ResponsiveEnhancedCalendarCanvas"],"mappings":"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"}